(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,a,t){},130:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t(36),o=t(76),i=t(77),s=t(133),u=t(62),d=t.n(u);t(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=t(134),I=t(115),g=t(63),_=t.n(g),v=t(12),f=t(9),p=t(13),b=t.n(p),y=t(20);var N=function(e){var a=Object(n.useState)(e),t=Object(f.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)(function(){var e;return r&&(e=setTimeout(function(){l(null)},3e3)),function(){e&&clearTimeout(e)}},[r]),[r,l]},E=t(58),M=t.n(E),j=function(e){var a=e.errorMessage;return r.a.createElement("div",{className:a?M.a.ErrorMessage:M.a.HiddenMessage},a)};j.defaultProps={errorMessage:null};var D=j,h=t(64),C=t.n(h),S=function(e){var a=e.theme,t=e.children,n=e.onClick;return r.a.createElement("button",{className:C.a[a],type:"button",onClick:n},t)},z=t(53),P=t.n(z),k=function(e){var a=e.autoComplete,t=e.type,n=e.name,l=e.placeholder,c=e.onChange,o=e.onKeyDown,i=e.value,s=e.theme;return r.a.createElement("div",{className:P.a.Container},r.a.createElement("input",{className:P.a[s],autoComplete:a,type:t,id:n,name:n,placeholder:l,onChange:c,onKeyDown:o,value:i}),r.a.createElement("label",{htmlFor:n,className:P.a.Label},n))};k.defaultProps={autoComplete:null,placeholder:null,onKeyDown:null};var w=k,x=t(23),O=t.n(x),G=function(e){var a=e.animate;return console.log(a),r.a.createElement("div",{className:O.a.scene},r.a.createElement("div",{className:a?O.a.animatedCube:O.a.cube},r.a.createElement("img",{className:O.a.front,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+",alt:"cubeface"}),r.a.createElement("img",{className:O.a.right,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+",alt:"cubeface"}),r.a.createElement("img",{className:O.a.back,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+",alt:"cubeface"}),r.a.createElement("img",{className:O.a.left,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+",alt:"cubeface"}),r.a.createElement("img",{className:O.a.top,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+",alt:"cubeface"}),r.a.createElement("img",{className:O.a.bottom,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+",alt:"cubeface"})))},B=t(43),F=t.n(B);function T(){var e=Object(v.a)(["\n    mutation signup(\n      $email: String!\n      $username: String!\n      $name: String!\n      $password: String!\n    ) {\n      signup(\n        email: $email\n        username: $username\n        name: $name\n        password: $password\n      ) {\n        success\n        message\n        code\n        user {\n          _id\n          username\n        }\n      }\n    }\n  "]);return T=function(){return e},e}var R=function(e){var a=e.history,t=Object(n.useState)(""),c=Object(f.a)(t,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(f.a)(s,2),d=u[0],m=u[1],I=Object(n.useState)(""),g=Object(f.a)(I,2),_=g[0],v=g[1],p=Object(n.useState)(""),E=Object(f.a)(p,2),M=E[0],j=E[1],h=N(null),C=Object(f.a)(h,2),z=C[0],P=C[1],k=b()(T()),x=[{name:"Full Name",value:d,type:"text",onChange:function(e){return m(e.target.value)}},{name:"Username",value:o,type:"text",onChange:function(e){return i(e.target.value)}},{name:"Email",value:M,type:"email",onChange:function(e){return j(e.target.value)}},{name:"Password",value:_,type:"password",onChange:function(e){return v(e.target.value)}}];return r.a.createElement(l.b,{mutation:k,variables:{username:o,email:M,password:_,name:d},update:function(e,t){var n=t.data,r=t.error;if(n){var l=n.signup,c=l.success,o=l.message,i=l.user;!c&&o?P(o):i&&setTimeout(function(){a.push("/profile")},1500)}else r&&P("Internal Server Error")}},function(e,a){var t=a.called;return console.log({called:t}),r.a.createElement("div",{className:F.a.page},r.a.createElement("div",{className:F.a.cube},r.a.createElement(G,{animate:t})),r.a.createElement("div",{className:F.a.CenterRow},r.a.createElement("form",{className:F.a.form},x.map(function(e){return r.a.createElement(w,Object.assign({key:e.name,theme:"Big"},e))}),r.a.createElement("div",null,r.a.createElement(S,{onClick:function(a){a.preventDefault(),e({variables:{email:M,username:o,password:_,name:d},refetchQueries:["USERNAME"]})},type:"submit",theme:"Main"},"Signup")),r.a.createElement(D,{errorMessage:z}),r.a.createElement("div",null,"Already have an account? ",r.a.createElement(y.a,{to:"/login"},"login")))))})},A=t(19),Z=t.n(A),Y=t(67),X=t.n(Y),H=function(e){var a=e.answer,t=e.number,l=e.guess,c=e.isRevealed,o=e.click,i=e.isFocused,s=e.isHighlighted,u=e.isPlaying,d=Object(n.useRef)(null);Object(n.useEffect)(function(){d.current&&i&&u&&d.current.focus()},[i,u]);var m=window.getComputedStyle(document.documentElement).getPropertyValue("--highlightBlue"),I="#F6F6F6";i?I="rgb(255, 200, 100)":s&&(I=m);var g="black";return c&&a.toLowerCase()!==l.toLowerCase()&&(g="red"),r.a.createElement("td",{className:Z.a.cell},r.a.createElement("div",{className:Z.a.number},t),r.a.createElement("div",{ref:d,style:{background:I,color:g},className:Z.a.cellInput,onMouseDown:o,role:"button",tabIndex:"-1"},c?a:l))};H.defaultProps={guess:"",number:null,isRevealed:!1,isFocused:!1,isHighlighted:!1};var U=H,L=function(e){var a=e.playableBoard,t=e.direction,l=e.currentCells,c=e.focusedCell,o=e.selectCell,i=e.navigate,s=e.guess,u=e.isPlaying,d=e.revealedCells,m=e.isPuzzleRevealed,I=e.isPuzzleSolved,g=Object(n.useCallback)(X()(function(e,a){if(e>=37&&e<=40)i(e);else if(e>=45&&e<=90){if(d.filter(function(e){return e[0]===c[0]&&e[0]===c[1]}).length>0)return;I||s(a)}else 8===e&&i("across"===t?37:38,{clearFirst:!0})},50),[t,I]),_=a.map(function(e,a){return r.a.createElement("tr",{key:a},e.map(function(e,t){var n="#BlackSquare#"===e.answer,i=!1;l.some(function(e){return e[0]===a&&e[1]===t&&(i=!0,!0)});var s=m||d.filter(function(e){return e[0]===a&&e[1]===t}).length>0;return n?r.a.createElement("td",{className:Z.a.black,key:"".concat(a).concat(t)}):r.a.createElement(U,{key:"".concat(a).concat(t),isHighlighted:i,isFocused:c[0]===a&&c[1]===t,answer:u||I?e.answer:"",isPlaying:u,guess:u?e.guess:"",number:e.number,showAnswers:!1,isRevealed:s,coords:[a,t],click:function(){return o([a,t])}})}))});return r.a.createElement("div",{className:"page"},r.a.createElement("div",{role:"button",tabIndex:"-1",onKeyDown:function(e){var a=e.keyCode,t=e.key;g(a,t)}},r.a.createElement("table",null,r.a.createElement("tbody",{className:Z.a.board},_))))};L.defaultProps={currentCells:[],playableBoard:[[]],revealedCells:[]};for(var W=L,J=[],V=0;V<15;V+=1){for(var Q=[],q=0;q<15;q+=1)Q.push(" ");J.push(Q)}var $=function(){return r.a.createElement("div",{className:Z.a.page},r.a.createElement("div",{className:Z.a.container},r.a.createElement(W,{initialBoard:J,currentClue:"1A",setClue:function(){return"1D"},construct:!0}),r.a.createElement("div",{className:Z.a.clues},r.a.createElement("textarea",{width:600,height:400}))))};function K(){var e=Object(v.a)(["\n  query PlayablePuzzle($puzzleId: ID!) {\n    playablePuzzle(_id: $puzzleId) {\n      success\n      message\n      playablePuzzle {\n        puzzle {\n          _id\n          title\n          author\n          date\n          publisher\n          board\n          clues {\n            answer {\n              _id\n              text\n            }\n            clue {\n              _id\n              text\n            }\n            position\n          }\n        }\n        userPuzzle {\n          _id\n          board\n          revealedCells\n          isRevealed\n          isSolved\n          time\n        }\n      }\n    }\n  }\n"]);return K=function(){return e},e}function ee(){var e=Object(v.a)(["\n  query TodaysPuzzle($date: String!) {\n    todaysPuzzle(date: $date) {\n      success\n      message\n      puzzle {\n        _id\n        title\n        date\n        editor\n        author\n      }\n    }\n  }\n"]);return ee=function(){return e},e}function ae(){var e=Object(v.a)(["\n  query Puzzles($month: String, $year: String) {\n    puzzles(month: $month, year: $year) {\n      success\n      message\n      puzzles {\n        _id\n        # author\n        # title\n        date\n      }\n    }\n  }\n"]);return ae=function(){return e},e}function te(){var e=Object(v.a)(["\n  query getSolvedPuzzles($cursor: String) {\n    getSolvedPuzzles(cursor: $cursor) {\n      success\n      message\n      solvedPuzzles {\n        _id\n        board\n        puzzle {\n          _id\n          date\n        }\n        updatedAt\n      }\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(v.a)(["\n  {\n    profileInfo {\n      success\n      message\n      user {\n        _id\n        name\n        username\n        solvedPuzzles {\n          _id\n          board\n          updatedAt\n          puzzle {\n            _id\n            date\n          }\n        }\n        solvedPuzzleStats {\n          total\n          solved\n          revealed\n        }\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var re=b()(ne()),le=b()(te()),ce=b()(ae()),oe=b()(ee()),ie=b()(K()),se=t(15),ue=function(e,a){for(var t,n=Object(f.a)(e,2),r=n[0],l=n[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"across"===a?39:40,o=arguments.length>3?arguments[3]:void 0;!t;){if("across"===a?39===c?(l+=1,o[r][l]||(l=0)):(l-=1,o[r][l]||(l=o[0].length-1)):"down"===a&&(40===c?o[r+=1]||(r=0):o[r-=1]||(r=o.length-1)),"#BlackSquare#"!==o[r][l].answer)return t=!0,[r,l];t=!1}},de=t(22),me=t(68),Ie=t.n(me),ge=function(e,a){switch(a.type){case"LOAD_PUZZLE":return Object(se.a)({},e,{playableBoard:a.playableBoard,clues:a.clues});case"SELECT_CLUE":var t=a.clue.position.indexOf("D")>-1?"down":"across";return Object(se.a)({},e,{direction:t,selection:{focusedCell:a.clue.cells[0],currentCells:a.clue.cells,currentClues:["across"===t?a.clue.position:e.playableBoard[a.clue.cells[0][0]][a.clue.cells[0][1]].clues[0],"down"===t?a.clue.position:e.playableBoard[a.clue.cells[0][0]][a.clue.cells[0][1]].clues[1]]}});case"SELECT_CELL":var n=a.cell,r=e.clues,l=e.playableBoard,c=e.direction,o=e.selection,i=c;return o.focusedCell[0]===n[0]&&o.focusedCell[1]===n[1]&&(i="across"===c?"down":"across"),Object(se.a)({},e,{direction:i,selection:{focusedCell:n,currentCells:r[l[n[0]][n[1]].clues["across"===i?0:1]].cells,currentClues:l[n[0]][n[1]].clues}});case"NAVIGATE":var s=e.playableBoard,u=e.clues,d=e.selection,m=d.currentClues,I=d.focusedCell,g=a.keyCode,_=a.options,v=Object(de.a)(s),p=d.currentCells,b=I,y=e.direction;if(_&&_.clearFirst&&(v[I[0]][I[1]].guess=""),g%2!==0&&"down"===e.direction)y="across",p=u[m[0]].cells;else if(g%2===0&&"across"===e.direction)y="down",p=u[m[1]].cells;else{var N=b=ue(I,y,g,s),E=Object(f.a)(N,2),M=E[0],j=E[1];p=u[s[M][j].clues["across"===y?0:1]].cells}return Object(se.a)({},e,{playableBoard:v,direction:y,selection:Object(se.a)({},d,{currentCells:p,focusedCell:b,currentClues:s[b[0]][b[1]].clues})});case"GUESS":var D=e.playableBoard,h=e.selection,C=e.direction,S=e.clues,z=Object(de.a)(D),P=h.focusedCell,k=Object(f.a)(h.focusedCell,2),w=k[0],x=k[1];z[w][x].guess=a.key.toUpperCase();var O=ue(P,C,"across"===C?39:40,D),G=Object(f.a)(O,2),B=G[0],F=G[1],T=S[D[B][F].clues["across"===C?0:1]].cells;return Object(se.a)({},e,{playableBoard:z,selection:Object(se.a)({},h,{currentCells:T,focusedCell:O,currentClues:D[O[0]][O[1]].clues})});case"PAUSE":return Object(se.a)({},e,{isPlaying:!1});case"PLAY":return Object(se.a)({},e,{isPlaying:!0});case"REVEAL_SQUARE":var R=Object(de.a)(e.revealedCells);return R.push(e.selection.focusedCell),Object(se.a)({},e,{revealedCells:R});case"REVEAL_WORD":var A=Object(de.a)(e.revealedCells).concat(e.selection.currentCells);return Object(se.a)({},e,{revealedCells:A});case"REVEAL_PUZZLE":return Object(se.a)({},e,{isPuzzleRevealed:!0,isPuzzleSolved:!0,isPlaying:!1})}},_e=t(54),ve=t.n(_e),fe=function(e){var a=e.sideBar,t=e.mainContent,n=e.breakPointPercent,l=e.heightsAreEqual;return r.a.createElement("div",{className:ve.a.Page},r.a.createElement("div",{className:ve.a.Sidebar},a),r.a.createElement("div",{className:ve.a.MainContent,style:{minWidth:"calc(".concat(n,"% - 1rem)"),alignItems:l?"stretch":"flexStart"}},t))};fe.defaultProps={breakPointPercent:50,heightsAreEqual:!1};var pe=fe,be=t(27),ye=t.n(be),Ne=t(37),Ee=t.n(Ne),Me=function(e){var a=e.isOpen,t=e.close,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a?Ee.a.background:Ee.a.hiddenBackground}),r.a.createElement("div",{className:a?Ee.a.modal:Ee.a.hiddenModal},r.a.createElement("div",{"data-testid":"close-modal",className:Ee.a.close,onClick:t,onKeyPress:t,tabIndex:"-2",role:"button"},r.a.createElement("i",{className:"fas fa-times"})),n))},je=t(24),De=t.n(je),he=function(e){var a=e.title,t=e.author,n=e.Clock,l=e.DropdownMenu;return r.a.createElement("div",{className:De.a.container},r.a.createElement("div",{className:De.a.subContainer},r.a.createElement("div",{className:De.a.menuItem},a),r.a.createElement("div",{className:De.a.menuItem},t)),r.a.createElement("div",{className:De.a.subContainer},r.a.createElement("div",{className:De.a.menuItem},n)),r.a.createElement("div",{className:De.a.subContainer},r.a.createElement("div",{className:De.a.menuItem},l),r.a.createElement("div",{className:De.a.menuItem},"Hint")))};he.defaultProps={title:null,author:null};var Ce=he,Se=t(16),ze=t.n(Se),Pe=function(e){var a=e.isHighlighted,t=e.isSecondaryHighlight,l=e.selectClue,c=e.position,o=e.text,i=e.isPlaying,s=Object(n.useRef)(null);return s.current&&(a||t)&&s.current.scrollIntoView(),r.a.createElement("li",{ref:s,className:a?ze.a.highlighted:ze.a.clue},r.a.createElement("div",{className:t?ze.a.secondaryHighlight:ze.a.secondaryNoHighlight}),r.a.createElement("div",{role:"button",tabIndex:"-1",className:i?ze.a.clueText:ze.a.hiddenClueText,onClick:l,onKeyPress:l},r.a.createElement("span",{style:{fontWeight:600}},c)," ",o))},ke=function(e){var a=e.clues,t=e.currentClues,n=e.selectClue,l=e.direction,c=e.isPlaying;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ze.a.container},r.a.createElement("div",{className:ze.a.title},"Across"),r.a.createElement("ul",{className:ze.a.clues},Object.keys(a).filter(function(e){return a[e].position.indexOf("A")>-1}).map(function(e){return r.a.createElement(Pe,{key:a[e].position,isPlaying:c,isHighlighted:t[0]===e&&"across"===l,isSecondaryHighlight:t[0]===e&&"down"===l,selectClue:function(){return n(a[e])},position:a[e].position,text:a[e].clue.text})}))),r.a.createElement("div",{className:ze.a.container},r.a.createElement("div",{className:ze.a.title},"Down"),r.a.createElement("ul",{className:ze.a.clues},Object.keys(a).filter(function(e){return a[e].position.indexOf("D")>-1}).map(function(e){return r.a.createElement(Pe,{key:a[e].position,isPlaying:c,isHighlighted:t[1]===e&&"down"===l,isSecondaryHighlight:t[1]===e&&"across"===l,selectClue:function(){return n(a[e])},position:a[e].position,text:a[e].clue.text})}))))};var we=function(e,a){var t=Object(n.useRef)();Object(n.useEffect)(function(){t.current=e},[e]),Object(n.useEffect)(function(){if(null!==a){var e=setInterval(function(){t.current()},a);return function(){return clearInterval(e)}}},[a])},xe=t(69),Oe=t.n(xe),Ge=t(70),Be=t.n(Ge),Fe=function(e){var a=e.size,t=e.onClick;return r.a.createElement("svg",{onClick:t,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"pause",className:Be.a.pause,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:a},r.a.createElement("path",{fill:"currentColor",d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}))};function Te(){var e=Object(v.a)(["\n  mutation updateUserPuzzle($_id: ID!, $time: Float!) {\n    updateUserPuzzle(_id: $_id, time: $time) {\n      _id\n      time\n    }\n  }\n"]);return Te=function(){return e},e}var Re=b()(Te()),Ae=Object(l.d)(function(e){var a=e.time,t=e.pause,n=e.isPlaying,l=e.userPuzzleId,c=e.client;return we(function(){c.mutate({mutation:Re,variables:{_id:l,time:a+1},networkPolicy:"cache-only"})},n?1e3:null),r.a.createElement("div",{className:Oe.a.clock},function(e){var a="",t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n;return t<10&&t>0&&(a+=t="0".concat(t,":")),n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r)),a+="".concat(n,":").concat(r)}(a),n?r.a.createElement(Fe,{size:15,onClick:t}):null)}),Ze=t(45),Ye=t.n(Ze),Xe=function(e){var a=e.name,t=e.list,n=e.headerLink,l=e.offSet,c=e["data-testid"];return r.a.createElement("div",{className:Ye.a.Container},r.a.createElement("div",{className:Ye.a.Header},n?r.a.createElement(y.a,{to:n||""},a):a),r.a.createElement("div",{className:Ye.a.DropdownContent,style:{top:l},"data-testid":c},t.map(function(e){return r.a.createElement("div",{className:Ye.a.DropdownItem,key:e.name},e.link?r.a.createElement(y.a,{to:e.link||""},e.name):r.a.createElement("button",{type:"button",onClick:e.onClick},e.name))})))};Xe.defaultProps={offSet:12,headerLink:null,"data-testid":"dropdownNavItem"};var He=Xe;function Ue(){var e=Object(v.a)(["\n  mutation updateUserPuzzle(\n    $_id: ID!\n    $board: [[String!]]\n    $revealedCells: [[Float]]\n    $isRevealed: Boolean\n    $isSolved: Boolean\n  ) {\n    updateUserPuzzle(\n      _id: $_id\n      board: $board\n      revealedCells: $revealedCells\n      isRevealed: $isRevealed\n      isSolved: $isSolved\n    ) {\n      _id\n      board\n      time\n      revealedCells\n      isRevealed\n      isSolved\n    }\n  }\n"]);return Ue=function(){return e},e}var Le=b()(Ue()),We=function(e){var a=e.puzzle,t=e.userPuzzle,l=e.time,c=e.revealedCells,o=e.isRevealed,i=void 0!==o&&o,s=e.isSolved,u=void 0!==s&&s,d=e.client,m=Object(n.useReducer)(ge,{playableBoard:null,clues:{},direction:"across",selection:{focusedCell:[0,0],currentCells:a.clues["1A"].cells,currentClues:["1A","1D"]},isPlaying:!1}),I=Object(f.a)(m,2),g=I[0],_=I[1],v=g.playableBoard,p=g.clues,b=g.selection,y=g.direction,N=g.isPlaying;Object(n.useEffect)(function(){_({type:"LOAD_PUZZLE",playableBoard:a.playableBoard,clues:a.clues,time:l})},[]);var E=Object(n.useCallback)(Ie()(function(e){var a;d.mutate({mutation:Le,variables:{_id:t,board:(a=e,a.map(function(e){return e.map(function(e){return"#BlackSquare#"===e.answer?e.answer:e.guess})}))}})},1e3),[]);Object(n.useEffect)(function(){v&&E(v)},[v]);var M=function(e){var a=Object(de.a)(c),n=b.currentCells,r=b.focusedCell;"puzzle"===e?(i=!0,u=!0):"word"===e?a=a.concat(n):"square"===e&&a.push(r),d.mutate({mutation:Le,variables:{_id:t,revealedCells:a,isRevealed:i,isSolved:u}})},j=b.currentClues,D=a.title,h=a.author;return r.a.createElement("div",{className:ye.a.page},r.a.createElement(Me,{isOpen:!N&&!u,close:function(){return _({type:"PLAY"})}},r.a.createElement(S,{theme:"Light",onClick:function(){_({type:"PLAY"})}},0===l?"start":"resume")),r.a.createElement("div",{className:ye.a.container},r.a.createElement(Ce,{title:D,author:h,Clock:r.a.createElement(Ae,{time:l,isPlaying:N,pause:function(){return _({type:"PAUSE"})},userPuzzleId:t}),DropdownMenu:r.a.createElement(He,{name:"Reveal",list:[{name:"square",onClick:function(){return M("square")}},{name:"word",onClick:function(){return M("word")}},{name:"puzzle",onClick:function(){return M("puzzle")}}],offSet:18})}),r.a.createElement(pe,{heightsAreEqual:!0,breakPointPercent:40,sideBar:r.a.createElement("div",{className:ye.a.left},r.a.createElement("div",{className:N||u?ye.a.focusedClue:ye.a.hiddenClue},r.a.createElement("span",{className:ye.a.focusedCluePosition},j?j["across"===y?0:1]:null),j?a.clues[j["across"===y?0:1]].clue.text:null),v?r.a.createElement(W,{isPlaying:u||N,playableBoard:v,revealedCells:c,isPuzzleRevealed:i,isPuzzleSolved:u,currentCells:b.currentCells,focusedCell:b.focusedCell,direction:y,selectCell:function(e){return _({type:"SELECT_CELL",cell:e})},navigate:function(e,a){return _({type:"NAVIGATE",keyCode:e,options:a})},guess:function(e){return _({type:"GUESS",key:e})}}):null),mainContent:r.a.createElement("div",{className:ye.a.clues},j?r.a.createElement(ke,{isPlaying:N||u,clues:p,direction:y,currentClues:b.currentClues,selectClue:function(e){_({type:"SELECT_CLUE",clue:e})}}):null)})))};We.defaultProps={isRevealed:!1,isSolved:!1,revealedCells:[]};var Je=Object(l.d)(We),Ve=function(e){var a=e.match.params.id;return r.a.createElement(l.c,{query:ie,variables:{puzzleId:a}},function(e){var a=e.loading,t=e.error,n=e.data;if(a)return"...loading";if(t)return console.log({error:t});if(n){var l=n.playablePuzzle.playablePuzzle,c=l.puzzle,o=l.userPuzzle,i=l.success,s=l.message;if(!i&&s)return s;if(c&&o){var u=o._id,d=function(e,a){for(var t=e.board,n=e.clues,r=a.board,l={},c=0;c<n.length;c+=1)l[n[c].position]=n[c],l[n[c].position].cells=[];var o=1,i={},s=t.map(function(e,a){var n="1A",c="1D";return e.map(function(s,u){var d=null;return"#BlackSquare#"===s?{answer:s}:(0===a&&(i[u]=o),0===u&&(n="".concat(o,"A")),"#BlackSquare#"===e[u-1]&&(n="".concat(o,"A")),t[a-1]&&"#BlackSquare#"===t[a-1][u]&&(i[u]=o),c="".concat(i[u],"D"),l[n].cells.push([a,u]),l[c].cells.push([a,u]),0!==a&&0!==u&&"#BlackSquare#"!==e[u-1]&&"#BlackSquare#"!==t[a-1][u]||(d=o,o+=1),{guess:r[a][u],answer:s,number:d,clues:[n,c]})})});return Object(se.a)({},e,{playableBoard:s,clues:l})}(c,o);return r.a.createElement(Je,Object.assign({puzzle:d,userPuzzle:u},o))}}})},Qe=t(42),qe=t.n(Qe),$e={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},Ke={January:"1",February:"2",March:"3",April:"4",May:"5",June:"6",July:"7",August:"8",September:"9",October:"10",November:"11",December:"12"},ea=function(){for(var e=[],a=(new Date).getFullYear();a>=1942;a-=1)e.push(a.toString());return e},aa=t(32),ta=t.n(aa),na=t(28),ra=t.n(na),la=function(e){var a=e.name,t=e.author,n=e.editor,l=e.date,c=e._id,o=e.size;return r.a.createElement(y.a,{to:c?"solve/".concat(c):""},r.a.createElement("div",{className:ra.a.PuzzleIcon},r.a.createElement("img",{height:o,className:ra.a.Image,alt:"puzzleIcon",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+"}),a?r.a.createElement("div",{className:ra.a.Detail},r.a.createElement("span",{className:ra.a.Header},"Name:")," ",a):null,l?r.a.createElement("div",{className:ra.a.Detail},l):null,t?r.a.createElement("div",{className:ra.a.author},t):null,n?r.a.createElement("div",{className:ra.a.Detail},"Edited by ",n):null))};la.defaultProps={_id:null,size:null,name:null,author:null,date:null,editor:null};var ca=la,oa=function(e){var a,t=e.puzzles,n=function(e,a){for(var t={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},n=Object.keys(t).map(function(e){return t[e]}),r=qe()("".concat(a,"/").concat(e)).daysInMonth(),l=1;l<=r;l+=1){var c=qe()("".concat(a,"/").concat(e,"/").concat(l)).weekday(),o=t[c];if(1===l&&c>0)for(var i=0;i<c;i+=1)n.push("BLANK");n.push({day:o,date:"".concat(e,"/").concat(l,"/").concat(a),number:l})}for(var s=0;s<n.length%7;s+=1)n.push("BLANK");return n}(e.month,e.year);return a=t?t.map(function(e){return e.date}):new Array(31),r.a.createElement("ul",{className:ta.a.month},n.map(function(e){if(a.indexOf(e.date)>-1){var n=a.indexOf(e.date);return r.a.createElement("div",{className:ta.a.day,key:e.date},r.a.createElement("div",{className:ta.a.number},e.number),r.a.createElement(ca,{size:80,_id:t[n]._id}))}return"BLANK"===e?r.a.createElement("div",{className:ta.a.day,key:e.date}):r.a.createElement("div",{className:e.number?ta.a.day:ta.a.dayHeading,key:e.date},e.number||e)}))};oa.defaultProps={puzzles:[]};var ia=oa,sa=t(33),ua=t.n(sa),da=t(25),ma=t.n(da),Ia=function(e){var a=e.list,t=e.title,l=e.select,c=Object(n.useState)(!1),o=Object(f.a)(c,2),i=o[0],s=o[1],u=a.map(function(e,a){var n=ma.a.listItem,c=a%2===0?ma.a.background1:ma.a.background2;e.toString()===t.toString()&&(c=ma.a.activeBackground);var o=[n,c].join(" ");return r.a.createElement("div",{key:e,onClick:function(){l(e),setTimeout(function(){return s(!1)},600)},onKeyPress:function(a){"Enter"===a.key&&l(e)},tabIndex:"-2",role:"button",className:o},e)});return r.a.createElement("div",{className:ma.a.wrapper},r.a.createElement("div",{onClick:function(){return s(!i)},onKeyPress:function(e){return"Enter"===e.key?s(!i):null},role:"button",tabIndex:"-3",className:ma.a.header,"data-testid":"dropdown"},r.a.createElement("span",null,t)," ",r.a.createElement("i",{className:"fas fa-caret-down"})),r.a.createElement("div",{className:i?ma.a.opened:ma.a.closed},u))},ga=function(){var e=new Date,a=e.getUTCMonth()+1;a=a.toString();var t=e.getUTCFullYear().toString(),c=Object(n.useState)(a),o=Object(f.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(t),d=Object(f.a)(u,2),m=d[0],I=d[1];return r.a.createElement("div",{className:ua.a.container},r.a.createElement("div",null),r.a.createElement("div",{className:ua.a.datePicker},r.a.createElement("div",{className:ua.a.menu},r.a.createElement(Ia,{list:Object.keys($e).map(function(e){return $e[e]}),select:function(e){return s(Ke[e])},title:$e[i]})),r.a.createElement("div",{className:ua.a.menu},r.a.createElement(Ia,{list:ea(),select:I,title:m}))),r.a.createElement(l.c,{query:ce,variables:{month:i,year:m}},function(e){var a=e.loading,t=e.error,n=e.data;if(t&&console.log(t),a)return r.a.createElement("div",{className:ua.a.calendarContainer});if(n){var l=n.puzzles,c=l.success,o=l.message,s=l.puzzles;if(!c&&o)return o;if(s)return r.a.createElement("div",{className:ua.a.calendarContainer},r.a.createElement(ia,{puzzles:s,month:i,year:m}))}return r.a.createElement("div",null,"Loading")}))},_a=t(132),va=t(21),fa=t.n(va);function pa(){var e=Object(v.a)(["\n    {\n      profileInfo {\n        success\n        message\n        user {\n          _id\n          username\n        }\n      }\n    }\n  "]);return pa=function(){return e},e}var ba=function(){var e=b()(pa()),a=r.a.createElement("li",null,r.a.createElement(_a.a,{to:"/Login",className:fa.a.link,activeClassName:fa.a.activeLink},"Login"));return r.a.createElement("nav",{className:fa.a.container},r.a.createElement(_a.a,{to:"/"},r.a.createElement("h1",{className:fa.a.logo},r.a.createElement("div",null,"C"),r.a.createElement("div",null,"r"),r.a.createElement("div",null,"o"),r.a.createElement("div",null,"s"),r.a.createElement("div",null,"s"),r.a.createElement("div",null,"w"),r.a.createElement("div",null,"o"),r.a.createElement("div",null,"r"),r.a.createElement("div",null,"d"),r.a.createElement("div",{className:fa.a.blackSquare}," "),r.a.createElement("div",null,"C"),r.a.createElement("div",null,"o"),r.a.createElement("div",null,"n"),r.a.createElement("div",null,"s"),r.a.createElement("div",null,"t"),r.a.createElement("div",null,"r"),r.a.createElement("div",null,"u"),r.a.createElement("div",null,"c"),r.a.createElement("div",null,"t"),r.a.createElement("div",null,"o"),r.a.createElement("div",null,"r"))),r.a.createElement("ul",{className:fa.a.menu},r.a.createElement("li",{className:fa.a.link},r.a.createElement(_a.a,{to:"/calendar",activeClassName:fa.a.activeLink},"Solve")),r.a.createElement("li",{className:fa.a.link},r.a.createElement(_a.a,{to:"/construct",activeClassName:fa.a.activeLink},"Construct")),r.a.createElement(l.c,{query:e,name:"profileInfo"},function(e){var t=e.data;if(t&&t.profileInfo){var n=t.profileInfo,l=n.user,c=n.success,o=n.message;if(!c&&o)return a;var i=l.username;return r.a.createElement(He,{name:i||"Profile",list:[{name:"profile",link:"/profile"},{name:"logout",link:"/logout"}],headerLink:"/profile",offSet:20})}return a})))},ya=t(55),Na=t.n(ya);function Ea(){var e=Object(v.a)(["\n    mutation login($username: String!, $password: String!) {\n      login(username: $username, password: $password) {\n        success\n        message\n        user {\n          _id\n          username\n          solvedPuzzles {\n            _id\n            puzzle {\n              _id\n            }\n            board\n          }\n        }\n      }\n    }\n  "]);return Ea=function(){return e},e}var Ma=function(e){var a=e.history,t=Object(n.useState)(""),c=Object(f.a)(t,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(f.a)(s,2),d=u[0],m=u[1],I=N(null),g=Object(f.a)(I,2),_=g[0],v=g[1],p=b()(Ea()),E=[{name:"Username",value:o,type:"text",onChange:function(e){return i(e.target.value)}},{name:"Password",value:d,type:"password",onChange:function(e){return m(e.target.value)}}];return r.a.createElement("div",{className:Na.a.page},r.a.createElement(ca,null),r.a.createElement("div",{className:Na.a.CenterRow},r.a.createElement("form",{className:Na.a.form},E.map(function(e){return r.a.createElement(w,Object.assign({key:e.name},e,{theme:"Big"}))}),r.a.createElement(l.b,{mutation:p,variables:{username:o,password:d},refetchQueries:function(){return["profileInfo"]},update:function(e,t){var n=t.data,r=t.error;if(n){var l=n.login,c=l.success,o=l.message,i=l.user;!c&&o?v(o):i&&a.push("/profile")}else r&&v("Internal Server Error")}},function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(S,{onClick:function(a){a.preventDefault(),e({variables:{username:o,password:d}})},type:"submit",theme:"Main"},"Login")),r.a.createElement(D,{errorMessage:_}))}),r.a.createElement("div",null,"Don't have an account yet? ",r.a.createElement(y.a,{to:"/signup"},"signup")))))},ja=t(135);function Da(){var e=Object(v.a)(["\n    mutation {\n      signout {\n        success\n        message\n      }\n    }\n  "]);return Da=function(){return e},e}var ha=Object(ja.a)(Object(l.d)(function(e){var a=e.client,t=e.history,l=b()(Da());return Object(n.useEffect)(function(){a.mutate({mutation:l}).then(function(){a.cache.reset(),t.push("/")}).catch(function(){})},[]),r.a.createElement("div",null,"Loading")})),Ca=t(73),Sa=t.n(Ca),za=function(e){var a=e.children;return r.a.createElement("div",{className:Sa.a.Stack},a)},Pa=t(29),ka=t.n(Pa),wa=function(e){var a=e.stats,t=e.DataScroller;return r.a.createElement(za,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ka.a.container},r.a.createElement("div",null,"Stats"),r.a.createElement("div",{className:ka.a.stats},r.a.createElement("div",null,"Total Attempted:",r.a.createElement("div",{className:ka.a.number},a.total)),r.a.createElement("div",null,"Total Solved: ",r.a.createElement("div",{className:ka.a.number},a.solved)),r.a.createElement("div",null,"Total Revealed:",r.a.createElement("div",{className:ka.a.number},a.revealed)),r.a.createElement("div",null,"Solve Rate:",r.a.createElement("div",{className:ka.a.number},100*(a.solved/a.total).toFixed(2)||0,"%")))),r.a.createElement("div",null,"Recent puzzles"),r.a.createElement("div",{className:ka.a.row},t)))},xa=function(e){var a=Object(n.useRef)(null);return Object(n.useEffect)(function(){a.current=e}),a.current},Oa=t(38),Ga=t.n(Oa),Ba=null,Fa=null,Ta=!0,Ra=function(e){var a=e.data,t=e.fetchMore,l=e.dataLength,c=Object(n.useState)([!1,!1]),o=Object(f.a)(c,2),i=Object(f.a)(o[0],2),s=i[0],u=i[1],d=o[1];Object(n.useEffect)(function(){v()},[]);var m=Object(n.useRef)(null),I=Object(n.useCallback)(function(e){Ba||(Ba=e),Fa=e-Ba,Ta?m.current.scrollLeft+=.175*Fa:m.current.scrollLeft-=.175*Fa,Fa<500&&window.requestAnimationFrame(I)},[]),g=Object(n.useCallback)(function(e){Ta="left"!==e,Fa=null,Ba=null,window.requestAnimationFrame(I)},[I]),_=xa(a);Object(n.useEffect)(function(){_&&a.length!==_.length&&g(1)},[a,g,_]);var v=function(){var e,t,n=m.current,r=n.clientWidth,c=n.scrollWidth,o=n.scrollLeft;t=a.length<l||c-r!==o,e=0!==m.current.scrollLeft,t===u&&e===s||d([e,t])};return r.a.createElement("div",{className:Ga.a.container},r.a.createElement("div",{className:Ga.a.puzzleRow,ref:m,onScroll:v,onWheel:function(e){var a=e.deltaY?e.deltaY:e.deltaX,t=Math.floor(a)/5;m.current.scrollLeft+=t}},a.map(function(e){return r.a.createElement("div",{className:Ga.a.puzzle,key:e._id},r.a.createElement(ca,{_id:e.puzzle._id,date:e.puzzle.date,fillPercent:0,size:50}))}),s?r.a.createElement("div",{className:Ga.a.prev,onClick:function(){return g("left")},onKeyUp:function(e){return"Enter"===e.key?g("left"):null},role:"button",tabIndex:"0"},r.a.createElement("i",{className:"fas fa-chevron-left"})):null,u?r.a.createElement("div",{className:Ga.a.next,onClick:function(){var e=m.current,n=e.clientWidth;e.scrollWidth-n!==e.scrollLeft?g(1):a.length<l&&t()},onKeyUp:function(e){return"Enter"===e.key?g("right"):null},role:"button",tabIndex:"0"},r.a.createElement("i",{className:"fas fa-chevron-right"})):null))},Aa=t(74),Za=t.n(Aa),Ya=function(){var e=new Date,a=String(e.getDate()),t=String(e.getMonth()+1),n=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(n)},Xa=function(){var e=Ya();return r.a.createElement("div",{className:Za.a.container},r.a.createElement(l.c,{query:oe,variables:{date:e}},function(e){var a=e.data;if(e.error,e.loading,a&&a.todaysPuzzle){var t=a.todaysPuzzle,n=t.success,l=(t.message,t.puzzle);return n?r.a.createElement(ca,Object.assign({},l,{date:qe()(l.date).format("dddd, MMMM Do, YYYY")})):"error"}return"loading"}))},Ha=t(26),Ua=t.n(Ha),La=t(75),Wa=t.n(La),Ja=function(e){var a=e.name,t=e.username;e.avatarImage,e.background;return r.a.createElement("div",{className:Ua.a.Container},r.a.createElement("div",{className:Ua.a.Background,alt:"profile background"}),r.a.createElement("div",{className:Ua.a.Bottom},r.a.createElement("img",{className:Ua.a.AvatarImage,src:Wa.a,alt:"avatar"}),r.a.createElement("div",{className:Ua.a.UserInfo},r.a.createElement("div",{className:Ua.a.Name},a),r.a.createElement("div",{className:Ua.a.Username},t)),r.a.createElement("div",{className:Ua.a.Groups})))},Va=t(39),Qa=t.n(Va),qa=function(){return r.a.createElement(l.c,{query:re},function(e){var a=e.error,t=e.loading,n=e.data,l=e.fetchMore;if(t)return r.a.createElement("div",null,"loading");if(a)return r.a.createElement("div",null,"error");if(n&&n.profileInfo){var c=n.profileInfo,o=c.user,i=c.success,s=c.message;if(!i&&s)return r.a.createElement("div",null,"error");var u=o.name,d=o.username,m=o.solvedPuzzles,I=o.solvedPuzzleStats;return r.a.createElement("div",{className:Qa.a.Page},r.a.createElement(pe,{sideBar:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ja,{username:d,name:u,avatarImage:"blah",background:"blah"}),r.a.createElement("div",null,"feed")),mainContent:r.a.createElement(za,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Qa.a.container},r.a.createElement("h2",{className:Qa.a.containerTitle},"Puzzle of the Day"),r.a.createElement(Xa,null)),r.a.createElement("div",{className:Qa.a.container},r.a.createElement("h2",{className:Qa.a.containerTitle},"Solved Puzzles"),r.a.createElement(wa,{stats:I,DataScroller:r.a.createElement(Ra,{data:m,fetchMore:function(){return l({query:le,variables:{cursor:m[m.length-1].updatedAt},updateQuery:function(e,a){var t=a.fetchMoreResult;return{profileInfo:Object(se.a)({},e.profileInfo,{user:Object(se.a)({},e.profileInfo.user,{solvedPuzzles:[].concat(Object(de.a)(e.profileInfo.user.solvedPuzzles),Object(de.a)(t.getSolvedPuzzles.solvedPuzzles))})})}}})},dataLength:I.total})}))))}))}return"something went wrong"})},$a=(t(128),function(){return r.a.createElement("div",{className:_.a.app},r.a.createElement(ba,null),r.a.createElement(m.a,null,r.a.createElement(I.a,{exact:!0,path:"/",component:R}),r.a.createElement(I.a,{exact:!0,path:"/signup",component:R}),r.a.createElement(I.a,{path:"/login",component:Ma}),r.a.createElement(I.a,{path:"/construct",component:$}),r.a.createElement(I.a,{path:"/solve/:id",component:Ve}),r.a.createElement(I.a,{path:"/profile",component:qa}),r.a.createElement(I.a,{path:"/nyt/solve/:id",component:Ve}),r.a.createElement(I.a,{path:"/calendar",component:ga}),r.a.createElement(I.a,{path:"/logout",component:ha})))});console.log("production");var Ka=Object(o.a)({uri:"/graphql",credentials:"include"}),et=new c.a({link:Ka,cache:new i.a});d.a.render(r.a.createElement(l.a,{client:et},r.a.createElement(s.a,null,r.a.createElement($a,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},16:function(e,a,t){e.exports={clue:"Clues_clue__fENbd",container:"Clues_container__2Ec02",title:"Clues_title__3ci2I",clueText:"Clues_clueText__3IG5s",hiddenClueText:"Clues_hiddenClueText__1lpFl Clues_clueText__3IG5s",highlighted:"Clues_highlighted__1X4II Clues_clue__fENbd",secondaryNoHighlight:"Clues_secondaryNoHighlight__cyCIL",secondaryHighlight:"Clues_secondaryHighlight__1-WX4 Clues_secondaryNoHighlight__cyCIL",clues:"Clues_clues__1LJW4"}},19:function(e,a,t){e.exports={board:"Board_board__o7P8w",cell:"Board_cell__2ZLwt",cellInput:"Board_cellInput__I-LXp",black:"Board_black__2gIkQ",number:"Board_number__bJjHn"}},21:function(e,a,t){e.exports={container:"Navbar_container__2z1H8",menu:"Navbar_menu__1Tv5Z",logo:"Navbar_logo__1ZVa2",blackSquare:"Navbar_blackSquare__2UA7H",link:"Navbar_link__VfMcH"}},23:function(e,a,t){e.exports={scene:"Cube_scene__2MlOs",cube:"Cube_cube__1eZCv",animatedCube:"Cube_animatedCube__1SAd9 Cube_cube__1eZCv",spin:"Cube_spin__12lgS",cubeFace:"Cube_cubeFace__2dI-a",front:"Cube_front__-jOvk Cube_cubeFace__2dI-a",right:"Cube_right__3oD4f Cube_cubeFace__2dI-a",back:"Cube_back__1l3Eo Cube_cubeFace__2dI-a",left:"Cube_left__1XX-O Cube_cubeFace__2dI-a",top:"Cube_top__6EAr4 Cube_cubeFace__2dI-a",bottom:"Cube_bottom__3IhP_ Cube_cubeFace__2dI-a",faceFront:"Cube_faceFront__1fQ9X Cube_cube__1eZCv","show-right":"Cube_show-right__1xE-0 Cube_cube__1eZCv","show-back":"Cube_show-back__1uM2R Cube_cube__1eZCv","show-left":"Cube_show-left__2Kq8U Cube_cube__1eZCv","show-top":"Cube_show-top__1Zwms Cube_cube__1eZCv",faceBottom:"Cube_faceBottom__3cHox Cube_cube__1eZCv"}},24:function(e,a,t){e.exports={container:"Toolbar_container__1YzG9",subContainer:"Toolbar_subContainer__19QRP",menuItem:"Toolbar_menuItem__76lu5"}},25:function(e,a,t){e.exports={wrapper:"Dropdown_wrapper__3QyiW",dropdown:"Dropdown_dropdown__3sP5z",header:"Dropdown_header__132Gr",listItem:"Dropdown_listItem__3aewm",errorItem:"Dropdown_errorItem__p_z0A",listItemSelected:"Dropdown_listItemSelected__3w76B",background1:"Dropdown_background1__zq8tM",background2:"Dropdown_background2__wnCvR",activeBackground:"Dropdown_activeBackground__3tapz",opened:"Dropdown_opened__2_IK0 Dropdown_dropdown__3sP5z",closed:"Dropdown_closed__DkVQd Dropdown_dropdown__3sP5z"}},26:function(e,a,t){e.exports={Container:"ProfileCard_Container__1gL63 index_Box__30BBj",Background:"ProfileCard_Background__IHSME",Bottom:"ProfileCard_Bottom__22nTd",AvatarImage:"ProfileCard_AvatarImage__yUuXo",UserInfo:"ProfileCard_UserInfo__1GvOM",Name:"ProfileCard_Name__32pBK helpers_TextTruncate__1Y4YE"}},27:function(e,a,t){e.exports={page:"SolveSpace_page__2btKK",container:"SolveSpace_container__2RzoW",left:"SolveSpace_left__1Yxqw",details:"SolveSpace_details__3PiYy",focusedCluePosition:"SolveSpace_focusedCluePosition__2EGFS",focusedClue:"SolveSpace_focusedClue__352-4",hiddenClue:"SolveSpace_hiddenClue__ZF09W SolveSpace_focusedClue__352-4",clues:"SolveSpace_clues___1aaX"}},28:function(e,a,t){e.exports={PuzzleIcon:"PuzzleIcon_PuzzleIcon__1_dnr",Image:"PuzzleIcon_Image__3DYkt",Detail:"PuzzleIcon_Detail__z0JHT",author:"PuzzleIcon_author__2DJeF PuzzleIcon_Detail__z0JHT",Header:"PuzzleIcon_Header__21dyV"}},29:function(e,a,t){e.exports={container:"SolvedPuzzles_container__3aCG8",row:"SolvedPuzzles_row__Navvd",stats:"SolvedPuzzles_stats__3igas",number:"SolvedPuzzles_number__1efIs"}},32:function(e,a,t){e.exports={month:"Month_month__xWZN6",day:"Month_day__2rjSo",number:"Month_number__2B8yT",dayHeading:"Month_dayHeading__1NuRk Month_day__2rjSo"}},33:function(e,a,t){e.exports={container:"Calendar_container__2A536",datePicker:"Calendar_datePicker__2_Ri9",menu:"Calendar_menu__2oCmY",calendarContainer:"Calendar_calendarContainer__3kTZQ",currentMonth:"Calendar_currentMonth__g-Kim"}},37:function(e,a,t){e.exports={background:"Modal_background__3-r3n",hiddenBackground:"Modal_hiddenBackground__2hZ_0",modal:"Modal_modal__DRzOv",hiddenModal:"Modal_hiddenModal__1R3rt Modal_modal__DRzOv",close:"Modal_close__1PE1q"}},38:function(e,a,t){e.exports={container:"DataScroller_container__z3oOP",puzzleRow:"DataScroller_puzzleRow__3arrE",puzzle:"DataScroller_puzzle__3QD97",button:"DataScroller_button__DksOZ",next:"DataScroller_next__o78FT DataScroller_button__DksOZ",prev:"DataScroller_prev__1YATp DataScroller_button__DksOZ"}},39:function(e,a,t){e.exports={Page:"Profile_Page__3uZrK",container:"Profile_container__AZTe1",containerTitle:"Profile_containerTitle__colFS"}},43:function(e,a,t){e.exports={page:"Signup_page__1SkQw",cube:"Signup_cube__3Y-mu",CenterRow:"Signup_CenterRow__3jxip",form:"Signup_form__3rH2c",activeStep:"Signup_activeStep__3JEdZ",hidden:"Signup_hidden__1E4LG"}},45:function(e,a,t){e.exports={Container:"DropdownMenu_Container__25AVG",Header:"DropdownMenu_Header__iBAA1",DropdownContent:"DropdownMenu_DropdownContent__1IJus",DropdownItem:"DropdownMenu_DropdownItem__2IRl7",showDropdown:"DropdownMenu_showDropdown__UlUuv"}},53:function(e,a,t){e.exports={Container:"Input_Container__qJAg4",Big:"Input_Big__31ZiJ"}},54:function(e,a,t){e.exports={Page:"Sidebar_Page__2L3Xd",Sidebar:"Sidebar_Sidebar__TBSCo",MainContent:"Sidebar_MainContent__Wtkzg"}},55:function(e,a,t){e.exports={page:"Login_page__2phF-",CenterRow:"Login_CenterRow__2SreD",form:"Login_form__3mKUZ",activeStep:"Login_activeStep__1OORR",hidden:"Login_hidden__1_skV"}},58:function(e,a,t){e.exports={ErrorMessage:"ErrorToast_ErrorMessage__6P3_F",HiddenMessage:"ErrorToast_HiddenMessage__2qDEh ErrorToast_ErrorMessage__6P3_F"}},63:function(e,a,t){e.exports={app:"App_app__3G4LD"}},64:function(e,a,t){e.exports={Main:"Button_Main__3XtBa",Light:"Button_Light__1lqGg"}},69:function(e,a,t){e.exports={clock:"Clock_clock__28aoa"}},70:function(e,a,t){e.exports={pause:"Pause_pause__1885G"}},73:function(e,a,t){e.exports={Stack:"Stack_Stack__FP_kg"}},74:function(e,a,t){e.exports={container:"PuzzleOfTheDay_container__WwD-t"}},75:function(e,a,t){e.exports=t.p+"static/media/test.798fd5a0.jpg"},79:function(e,a,t){e.exports=t(130)},84:function(e,a,t){}},[[79,2,1]]]);
//# sourceMappingURL=main.b94835f0.chunk.js.map