{"version":3,"sources":["serviceWorker.js","Hooks/useErrorMessage.js","Shared/ErrorToast.js","Shared/Button.js","Shared/Input.js","Shared/Cube.js","Signup/Signup.js","Workspace/Board.cell.js","Workspace/Board.js","Workspace/Workspace.js","utils/queries.js","Workspace/Board.utils.js","Workspace/puzzleReducer.js","Layouts/Sidebar.js","Shared/Modal.js","Workspace/Toolbar.js","Workspace/Clue.js","Workspace/Clues.js","Hooks/useInterval.js","Shared/Pause.js","Workspace/Clock.js","Shared/DropdownMenu.js","Workspace/SolveSpace.js","Workspace/FetchPuzzle.js","Calendar/utils.js","Shared/PuzzleIcon.js","Calendar/Month.js","Calendar/Dropdown.js","Calendar/Calendar.js","Navigation/Navbar.js","Login/Login.js","Logout/Logout.js","Layouts/Stack.js","Profile/SolvedPuzzlePreview.js","Hooks/usePrevious.js","Profile/DataScroller.js","Profile/PuzzleOfTheDay.js","Profile/ProfileCard.js","Profile/Profile.js","App.js","index.js","Workspace/Clues.module.css","Workspace/Board.module.css","Navigation/Navbar.module.css","Shared/Cube.module.css","Workspace/Toolbar.module.css","Calendar/Dropdown.module.css","Profile/ProfileCard.module.css","Workspace/SolveSpace.module.css","Shared/PuzzleIcon.module.css","Profile/SolvedPuzzles.module.css","Calendar/Month.module.css","Calendar/Calendar.module.css","Shared/Modal.module.css","Profile/DataScroller.module.css","Profile/Profile.module.css","Signup/Signup.module.css","Shared/DropdownMenu.module.css","Shared/Input.module.css","Layouts/Sidebar.module.css","Login/Login.module.css","Shared/ErrorToast.module.css","App.module.css","Shared/Button.module.css","Workspace/Clock.module.css","Shared/Pause.module.css","Layouts/Stack.module.css","Profile/PuzzleOfTheDay.module.css","Profile/test.jpg"],"names":["Boolean","window","location","hostname","match","useErrorMessage","message","_useState","useState","_useState2","Object","slicedToArray","errorMessage","setErrorMessage","useEffect","timer","setTimeout","clearTimeout","ErrorToast","_ref","react_default","a","createElement","className","styles","ErrorMessage","HiddenMessage","defaultProps","Button","theme","children","onClick","type","Input","autoComplete","name","placeholder","onChange","onKeyDown","value","Container","id","htmlFor","Label","Cube","animate","console","log","scene","animatedCube","cube","front","src","alt","right","back","left","top","bottom","Signup","history","username","setUsername","_useState3","_useState4","setName","_useState5","_useState6","password","setPassword","_useState7","_useState8","email","setEmail","_useErrorMessage","_useErrorMessage2","SIGNUP_MUTATION","gql","_templateObject","form","e","target","react_apollo_esm","mutation","variables","update","_","_ref2","data","error","_data$signup","signup","success","user","push","_ref3","called","page","Shared_Cube","CenterRow","map","formItem","Shared_Input","assign","key","Shared_Button","preventDefault","refetchQueries","Shared_ErrorToast","Link","to","Cell","answer","number","guess","isRevealed","click","isFocused","isHighlighted","isPlaying","cell","useRef","current","focus","highlightBlue","getComputedStyle","document","documentElement","getPropertyValue","background","color","toLowerCase","ref","style","cellInput","onMouseDown","role","tabIndex","Board","playableBoard","direction","currentCells","focusedCell","selectCell","navigate","revealedCells","isPuzzleRevealed","isPuzzleSolved","throttledKeyListener","useCallback","throttle","keyCode","filter","coords","length","clearFirst","rows","row","rowNum","colNum","black","some","cells","concat","Board_cell","showAnswers","event","board","initialBoard","i","x","Workspace","container","Workspace_Board","currentClue","setClue","construct","clues","width","height","GET_PROFILE","queries_templateObject","SOLVED_PUZZLES","_templateObject2","FETCH_PUZZLES","_templateObject3","TODAYS_PUZZLE","_templateObject4","GET_PUZZLE","_templateObject5","findNextCell","validCellFound","col","arguments","undefined","puzzleReducer","state","action","objectSpread","newDirection","clue","position","indexOf","selection","currentClues","options","updatedBoard","toConsumableArray","nextCell","_nextCell","_nextCell2","updatedPlayableBoard","_selection2$focusedCe","currentRow","currentCol","toUpperCase","_nextCell4","updatedRevealedCells","SidebarLayout","sideBar","mainContent","breakPointPercent","heightsAreEqual","Page","Sidebar","MainContent","minWidth","alignItems","Modal","isOpen","close","Fragment","hiddenBackground","modal","hiddenModal","data-testid","onKeyPress","Toolbar","title","author","Clock","DropdownMenu","subContainer","menuItem","Clue","isSecondaryHighlight","selectClue","text","clueRef","scrollIntoView","highlighted","secondaryHighlight","secondaryNoHighlight","clueText","hiddenClueText","fontWeight","Clues","keys","Workspace_Clue","useInterval","callback","delay","savedCallback","setInterval","clearInterval","Pause","size","aria-hidden","focusable","data-prefix","data-icon","pause","xmlns","viewBox","fill","d","UPDATE_TIME","Clock_templateObject","withApollo","time","userPuzzleId","client","mutate","_id","networkPolicy","clock","secNum","timeString","hours","Math","floor","minutes","seconds","formatTime","Shared_Pause","props","list","headerLink","offSet","dataTestId","Header","DropdownContent","item","DropdownItem","link","UPDATE_PLAYER_BOARD","SolveSpace_templateObject","Solvespace","puzzle","userPuzzle","_ref$isRevealed","_ref$isSolved","isSolved","_useReducer","useReducer","_useReducer2","dispatch","debouncedSave","debounce","updateRevealed","scope","Shared_Modal","Workspace_Toolbar","Workspace_Clock","Shared_DropdownMenu","focusedClue","hiddenClue","focusedCluePosition","Workspace_Clues","FetchPuzzle","puzzleId","params","query","loading","_data$playablePuzzle$","playablePuzzle","userBoard","cluesObj","currentNumber","downClueTracker","rowCount","acrossClue","downClue","colCount","buildPlayableBoard","SolveSpace","monthMap","1","2","3","4","5","6","7","8","9","10","11","12","numberMonth","January","February","March","April","May","June","July","August","September","October","November","December","buildYearsArr","years","year","Date","getFullYear","toString","PuzzleIcon","editor","date","Image","Detail","Month","puzzleDates","puzzles","days","month","dayMap","0","day","daysInMonth","moment","dayNumber","weekday","dayName","q","buildMonth","Array","index","Shared_PuzzleIcon","dayHeading","Dropdown","select","setIsOpen","ElementList","colorClass","listItem","backgroundClass","background1","background2","activeBackground","join","wrapper","header","opened","closed","Calendar","getUTCMonth","getUTCFullYear","currentMonth","setMonth","currentYear","setYear","datePicker","menu","Calendar_Dropdown","m","calendarContainer","_data$puzzles","Calendar_Month","Navbar","USERNAME","Navbar_templateObject","LoginLink","NavLink","activeClassName","activeLink","logo","blackSquare","profileInfo","_data$profileInfo","Login","LOGIN_MUTATION","Login_templateObject","_data$login","login","withRouter","LOGOUT","Logout_templateObject","then","cache","reset","catch","StackLayout","Stack","SolvedPuzzlesPreview","stats","DataScroller","total","solved","revealed","toFixed","usePrevious","start","progress","fetchMore","dataLength","_useState2$","shouldDisplayPrev","shouldDisplayNext","displayArrows","shouldDisplayArrows","scrollRef","animateScroll","timestamp","scrollLeft","requestAnimationFrame","scrollOne","previousData","shouldDisPr","shouldDisNe","_scrollRef$current2","clientWidth","scrollWidth","puzzleRow","onScroll","onWheel","rawData","deltaY","deltaX","mouseY","p","fillPercent","prev","onKeyUp","next","_scrollRef$current","getDateString","today","dd","String","getDate","mm","getMonth","yyyy","PuzzleOfTheDay","todaysPuzzle","_data$todaysPuzzle","format","ProfileCard","avatarImage","Background","Bottom","AvatarImage","testAvatar","UserInfo","Name","Username","Groups","Profile","solvedPuzzles","solvedPuzzleStats","Profile_ProfileCard","containerTitle","Profile_PuzzleOfTheDay","SolvedPuzzlePreview","Profile_DataScroller","cursor","updatedAt","updateQuery","previousResult","fetchMoreResult","getSolvedPuzzles","App","app","Navigation_Navbar","Switch","Route","exact","path","component","Logout","process","httpLink","createHttpLink","uri","credentials","ApolloClient","InMemoryCache","ReactDOM","render","BrowserRouter","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","spin","cubeFace","faceFront","show-right","show-back","show-left","show-top","faceBottom","dropdown","errorItem","listItemSelected","details","button","activeStep","hidden","showDropdown","Big","Main","Light","__webpack_require__"],"mappings":"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","file":"static/js/main.b94835f0.chunk.js","sourcesContent":["/* eslint-disable no-console */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react';\r\n/**\r\n * @function useErrorMessage - custom hook\r\n * @param  {String} message\r\n * @description sets an error message and then clears it --- consider passing in time to clear as a param\r\n * @returns {Array}\r\n * @property {String} errorMessage\r\n * @property {Function} setErrorMessage\r\n *\r\n */\r\nfunction useErrorMessage(message) {\r\n  const [errorMessage, setErrorMessage] = useState(message);\r\n  useEffect(() => {\r\n    let timer;\r\n    if (errorMessage) {\r\n      timer = setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 3000);\r\n    }\r\n    return () => {\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n      }\r\n    };\r\n  }, [errorMessage]);\r\n  return [errorMessage, setErrorMessage];\r\n}\r\n\r\nexport default useErrorMessage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ErrorToast.module.css';\r\n\r\nconst ErrorToast = ({ errorMessage }) => {\r\n  return (\r\n    <div className={errorMessage ? styles.ErrorMessage : styles.HiddenMessage}>\r\n      {errorMessage}\r\n    </div>\r\n  );\r\n};\r\n\r\nErrorToast.propTypes = {\r\n  errorMessage: PropTypes.string,\r\n};\r\n\r\nErrorToast.defaultProps = {\r\n  errorMessage: null,\r\n};\r\nexport default ErrorToast;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ theme, children, onClick }) => {\r\n  return (\r\n    <button className={styles[theme]} type=\"button\" onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  theme: PropTypes.oneOf(['Main', 'Danger', 'Cancel', 'Light']).isRequired,\r\n  children: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Input.module.css';\r\n\r\nconst Input = ({\r\n  autoComplete,\r\n  type,\r\n  name,\r\n  placeholder,\r\n  onChange,\r\n  onKeyDown,\r\n  value,\r\n  theme,\r\n}) => {\r\n  return (\r\n    <div className={styles.Container}>\r\n      <input\r\n        // ref={this.textInput}\r\n        className={styles[theme]}\r\n        autoComplete={autoComplete}\r\n        type={type}\r\n        id={name}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        onChange={onChange}\r\n        onKeyDown={onKeyDown}\r\n        value={value}\r\n      />\r\n      <label htmlFor={name} className={styles.Label}>\r\n        {name}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nInput.propTypes = {\r\n  autoComplete: PropTypes.string,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  onKeyDown: PropTypes.func,\r\n  value: PropTypes.string.isRequired,\r\n  theme: PropTypes.string.isRequired,\r\n};\r\n\r\nInput.defaultProps = {\r\n  autoComplete: null,\r\n  placeholder: null,\r\n  onKeyDown: null,\r\n};\r\nexport default Input;\r\n","/* eslint-disable prettier/prettier */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Cube.module.css';\r\n\r\nconst Cube = ({ animate }) => {\r\n  console.log(animate);\r\n  return (\r\n    <div className={styles.scene}>\r\n      <div className={animate ? styles.animatedCube : styles.cube}>\r\n        <img\r\n          className={styles.front}\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n          alt=\"cubeface\"\r\n        />\r\n        <img\r\n          className={styles.right}\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n          alt=\"cubeface\"\r\n        />\r\n        <img\r\n          className={styles.back}\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n          alt=\"cubeface\"\r\n        />\r\n        <img\r\n          className={styles.left}\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n          alt=\"cubeface\"\r\n        />\r\n        <img\r\n          className={styles.top}\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n          alt=\"cubeface\"\r\n        />\r\n        <img\r\n          className={styles.bottom}\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n          alt=\"cubeface\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCube.propTypes = {\r\n  animate: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Cube;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport gql from 'graphql-tag';\r\nimport { Mutation } from 'react-apollo';\r\nimport { Link } from 'react-router-dom';\r\nimport useErrorMessage from '../Hooks/useErrorMessage';\r\nimport ErrorToast from '../Shared/ErrorToast';\r\nimport Button from '../Shared/Button';\r\nimport Input from '../Shared/Input';\r\n// import PuzzleIcon from '../Shared/PuzzleIcon';\r\nimport Cube from '../Shared/Cube';\r\nimport styles from './Signup.module.css';\r\n\r\nconst Signup = ({ history }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [errorMessage, setErrorMessage] = useErrorMessage(null);\r\n\r\n  const SIGNUP_MUTATION = gql`\r\n    mutation signup(\r\n      $email: String!\r\n      $username: String!\r\n      $name: String!\r\n      $password: String!\r\n    ) {\r\n      signup(\r\n        email: $email\r\n        username: $username\r\n        name: $name\r\n        password: $password\r\n      ) {\r\n        success\r\n        message\r\n        code\r\n        user {\r\n          _id\r\n          username\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n  const form = [\r\n    {\r\n      name: 'Full Name',\r\n      value: name,\r\n      type: 'text',\r\n      onChange: e => setName(e.target.value),\r\n    },\r\n    {\r\n      name: 'Username',\r\n      value: username,\r\n      type: 'text',\r\n      onChange: e => setUsername(e.target.value),\r\n    },\r\n    {\r\n      name: 'Email',\r\n      value: email,\r\n      type: 'email',\r\n      onChange: e => setEmail(e.target.value),\r\n    },\r\n    {\r\n      name: 'Password',\r\n      value: password,\r\n      type: 'password',\r\n      onChange: e => setPassword(e.target.value),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Mutation\r\n      mutation={SIGNUP_MUTATION}\r\n      variables={{ username, email, password, name }}\r\n      // refetchQueries={['profileInfo']}\r\n      update={(_, { data, error }) => {\r\n        /** @todo abstract seee matching note in login */\r\n        if (data) {\r\n          const {\r\n            signup: { success, message, user },\r\n          } = data;\r\n          if (!success && message) {\r\n            setErrorMessage(message);\r\n          } else if (user) {\r\n            setTimeout(() => {\r\n              history.push('/profile');\r\n            }, 1500);\r\n          }\r\n        } else if (error) {\r\n          setErrorMessage('Internal Server Error');\r\n        }\r\n      }}\r\n    >\r\n      {(signup, { called }) => {\r\n        console.log({ called });\r\n        return (\r\n          <div className={styles.page}>\r\n            <div className={styles.cube}>\r\n              <Cube animate={called} />\r\n            </div>\r\n            <div className={styles.CenterRow}>\r\n              <form className={styles.form}>\r\n                {form.map(formItem => (\r\n                  <Input key={formItem.name} theme=\"Big\" {...formItem} />\r\n                ))}\r\n                <div>\r\n                  <Button\r\n                    onClick={e => {\r\n                      e.preventDefault();\r\n                      signup({\r\n                        variables: { email, username, password, name },\r\n                        refetchQueries: ['USERNAME'],\r\n                      });\r\n                    }}\r\n                    type=\"submit\"\r\n                    theme=\"Main\"\r\n                  >\r\n                    Signup\r\n                  </Button>\r\n                </div>\r\n                {/* @todo abstract this out */}\r\n                <ErrorToast errorMessage={errorMessage} />\r\n                <div>\r\n                  Already have an account? <Link to=\"/login\">login</Link>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      }}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\nSignup.propTypes = {\r\n  history: PropTypes.shape({ push: PropTypes.func }).isRequired,\r\n};\r\nexport default Signup;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Board.module.css';\r\n\r\nconst Cell = ({\r\n  answer,\r\n  number,\r\n  guess,\r\n  isRevealed,\r\n  click,\r\n  isFocused,\r\n  isHighlighted,\r\n  isPlaying,\r\n}) => {\r\n  const cell = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (cell.current && isFocused && isPlaying) {\r\n      cell.current.focus();\r\n    }\r\n  }, [isFocused, isPlaying]);\r\n\r\n  /** @consider doing this with a className so we keep the stling to css */\r\n  const highlightBlue = window\r\n    .getComputedStyle(document.documentElement)\r\n    .getPropertyValue('--highlightBlue');\r\n  let background = '#F6F6F6';\r\n  if (isFocused) {\r\n    background = 'rgb(255, 200, 100)';\r\n  } else if (isHighlighted) {\r\n    background = highlightBlue;\r\n  }\r\n  let color = 'black';\r\n  if (isRevealed) {\r\n    if (answer.toLowerCase() !== guess.toLowerCase()) {\r\n      color = 'red';\r\n    }\r\n  }\r\n  return (\r\n    <td className={styles.cell}>\r\n      <div className={styles.number}>{number}</div>\r\n      <div\r\n        ref={cell}\r\n        style={{\r\n          background,\r\n          color,\r\n        }}\r\n        className={styles.cellInput}\r\n        onMouseDown={click}\r\n        role=\"button\"\r\n        tabIndex=\"-1\"\r\n      >\r\n        {isRevealed ? answer : guess}\r\n      </div>\r\n    </td>\r\n  );\r\n};\r\n\r\nCell.propTypes = {\r\n  answer: PropTypes.string.isRequired,\r\n  guess: PropTypes.string,\r\n  number: PropTypes.number,\r\n  click: PropTypes.func.isRequired,\r\n  isRevealed: PropTypes.bool,\r\n  isHighlighted: PropTypes.bool,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n  // coords: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  isFocused: PropTypes.bool,\r\n};\r\n\r\nCell.defaultProps = {\r\n  guess: '',\r\n  number: null,\r\n  isRevealed: false,\r\n  isFocused: false,\r\n  isHighlighted: false,\r\n};\r\n\r\nexport default Cell;\r\n","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport throttle from 'lodash.throttle';\r\nimport Cell from './Board.cell';\r\nimport styles from './Board.module.css';\r\n\r\nconst Board = ({\r\n  playableBoard,\r\n  direction,\r\n  currentCells,\r\n  focusedCell,\r\n  selectCell,\r\n  navigate,\r\n  guess,\r\n  isPlaying,\r\n  revealedCells,\r\n  isPuzzleRevealed,\r\n  isPuzzleSolved,\r\n}) => {\r\n  const throttledKeyListener = useCallback(\r\n    throttle((keyCode, key) => {\r\n      if (keyCode >= 37 && keyCode <= 40) {\r\n        navigate(keyCode);\r\n        // @todo add conditional for rebus\r\n      } else if (keyCode >= 45 && keyCode <= 90) {\r\n        if (\r\n          revealedCells.filter(\r\n            coords =>\r\n              coords[0] === focusedCell[0] && coords[0] === focusedCell[1]\r\n          ).length > 0\r\n        ) {\r\n          return;\r\n        }\r\n        if (!isPuzzleSolved) guess(key);\r\n      } else if (keyCode === 8) {\r\n        navigate(direction === 'across' ? 37 : 38, { clearFirst: true });\r\n      }\r\n    }, 50),\r\n    [direction, isPuzzleSolved]\r\n  );\r\n\r\n  const keyListener = event => {\r\n    const { keyCode, key } = event;\r\n    throttledKeyListener(keyCode, key);\r\n  };\r\n  const rows = playableBoard.map((row, rowNum) => {\r\n    return (\r\n      // it is fine to use index as key because the index will not change and is actually meaningful information because it's index = its position in the grid\r\n      <tr\r\n        // eslint-disable-next-line react/no-array-index-key\r\n        key={rowNum}\r\n        // className={styles.board}\r\n      >\r\n        {row.map((cell, colNum) => {\r\n          const black = cell.answer === '#BlackSquare#';\r\n          let isHighlighted = false;\r\n\r\n          currentCells.some(coords => {\r\n            // console.log('coords: ', coords);\r\n            if (coords[0] === rowNum && coords[1] === colNum) {\r\n              isHighlighted = true;\r\n              return true;\r\n            }\r\n            return false;\r\n          });\r\n\r\n          const isRevealed =\r\n            isPuzzleRevealed ||\r\n            revealedCells.filter(\r\n              cells => cells[0] === rowNum && cells[1] === colNum\r\n            ).length > 0;\r\n          return black ? (\r\n            // eslint-disable-next-line react/no-array-index-key\r\n            <td className={styles.black} key={`${rowNum}${colNum}`} />\r\n          ) : (\r\n            <Cell\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={`${rowNum}${colNum}`}\r\n              isHighlighted={isHighlighted}\r\n              isFocused={focusedCell[0] === rowNum && focusedCell[1] === colNum}\r\n              answer={isPlaying || isPuzzleSolved ? cell.answer : ''}\r\n              isPlaying={isPlaying}\r\n              guess={isPlaying ? cell.guess : ''}\r\n              number={cell.number}\r\n              showAnswers={false}\r\n              isRevealed={isRevealed}\r\n              coords={[rowNum, colNum]}\r\n              click={() => selectCell([rowNum, colNum])}\r\n            />\r\n          );\r\n        })}\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <div className=\"page\">\r\n      {/* <Clock play={playing} onClick={() => togglePlaying(!playing)} /> */}\r\n      <div\r\n        role=\"button\"\r\n        tabIndex=\"-1\"\r\n        // @ TODO NEXT // holding down key is causing freezing\r\n        onKeyDown={keyListener}\r\n      >\r\n        <table>\r\n          <tbody className={styles.board}>{rows}</tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nBoard.propTypes = {\r\n  playableBoard: PropTypes.arrayOf(\r\n    PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        answer: PropTypes.string.isRequired,\r\n        guess: PropTypes.string,\r\n        clues: PropTypes.arrayOf(PropTypes.string),\r\n        number: PropTypes.number,\r\n      })\r\n    )\r\n  ),\r\n  direction: PropTypes.oneOf(['across', 'down']).isRequired,\r\n  currentCells: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\r\n  selectCell: PropTypes.func.isRequired,\r\n  focusedCell: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  // isConstructing: PropTypes.bool,\r\n  navigate: PropTypes.func.isRequired,\r\n  guess: PropTypes.func.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n  revealedCells: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\r\n  isPuzzleRevealed: PropTypes.bool.isRequired,\r\n  isPuzzleSolved: PropTypes.bool.isRequired,\r\n};\r\n\r\nBoard.defaultProps = {\r\n  currentCells: [],\r\n  playableBoard: [[]],\r\n  revealedCells: [],\r\n  // isConstructing: false,\r\n};\r\n// position = [row, col]\r\n// incOrDec = increment or decrement\r\n\r\nexport default Board;\r\n","import React from 'react';\r\nimport styles from './Board.module.css';\r\nimport Board from './Board';\r\n\r\nconst initialBoard = [];\r\nfor (let i = 0; i < 15; i += 1) {\r\n  const row = [];\r\n  for (let x = 0; x < 15; x += 1) {\r\n    row.push(' ');\r\n  }\r\n  initialBoard.push(row);\r\n}\r\n\r\nconst Workspace = () => {\r\n  const currentClue = '1A';\r\n  const setClue = () => '1D';\r\n\r\n  return (\r\n    <div className={styles.page}>\r\n      <div className={styles.container}>\r\n        <Board\r\n          initialBoard={initialBoard}\r\n          currentClue={currentClue}\r\n          setClue={setClue}\r\n          construct\r\n        />\r\n        <div className={styles.clues}>\r\n          <textarea width={600} height={400} />\r\n          {/* <Clues clues={[]} setClue={setClue} currentClue={currentClue} /> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Workspace;\r\n","import gql from 'graphql-tag';\r\n\r\nexport const GET_PROFILE = gql`\r\n  {\r\n    profileInfo {\r\n      success\r\n      message\r\n      user {\r\n        _id\r\n        name\r\n        username\r\n        solvedPuzzles {\r\n          _id\r\n          board\r\n          updatedAt\r\n          puzzle {\r\n            _id\r\n            date\r\n          }\r\n        }\r\n        solvedPuzzleStats {\r\n          total\r\n          solved\r\n          revealed\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SOLVED_PUZZLES = gql`\r\n  query getSolvedPuzzles($cursor: String) {\r\n    getSolvedPuzzles(cursor: $cursor) {\r\n      success\r\n      message\r\n      solvedPuzzles {\r\n        _id\r\n        board\r\n        puzzle {\r\n          _id\r\n          date\r\n        }\r\n        updatedAt\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const FETCH_PUZZLES = gql`\r\n  query Puzzles($month: String, $year: String) {\r\n    puzzles(month: $month, year: $year) {\r\n      success\r\n      message\r\n      puzzles {\r\n        _id\r\n        # author\r\n        # title\r\n        date\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TODAYS_PUZZLE = gql`\r\n  query TodaysPuzzle($date: String!) {\r\n    todaysPuzzle(date: $date) {\r\n      success\r\n      message\r\n      puzzle {\r\n        _id\r\n        title\r\n        date\r\n        editor\r\n        author\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_PUZZLE = gql`\r\n  query PlayablePuzzle($puzzleId: ID!) {\r\n    playablePuzzle(_id: $puzzleId) {\r\n      success\r\n      message\r\n      playablePuzzle {\r\n        puzzle {\r\n          _id\r\n          title\r\n          author\r\n          date\r\n          publisher\r\n          board\r\n          clues {\r\n            answer {\r\n              _id\r\n              text\r\n            }\r\n            clue {\r\n              _id\r\n              text\r\n            }\r\n            position\r\n          }\r\n        }\r\n        userPuzzle {\r\n          _id\r\n          board\r\n          revealedCells\r\n          isRevealed\r\n          isSolved\r\n          time\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","export const buildPlayableBoard = (puzzle, userPuzzle) => {\r\n  const { board, clues } = puzzle;\r\n  const { board: userBoard } = userPuzzle;\r\n\r\n  const cluesObj = {};\r\n  for (let i = 0; i < clues.length; i += 1) {\r\n    cluesObj[clues[i].position] = clues[i];\r\n    cluesObj[clues[i].position].cells = [];\r\n  }\r\n  let currentNumber = 1;\r\n  const downClueTracker = {};\r\n  const playableBoard = board.map((row, rowCount) => {\r\n    let acrossClue = '1A';\r\n    let downClue = '1D';\r\n    return row.map((col, colCount) => {\r\n      let number = null;\r\n      if (col === '#BlackSquare#') {\r\n        return { answer: col };\r\n      }\r\n      // deduce clues associated with this cell\r\n      if (rowCount === 0) {\r\n        downClueTracker[colCount] = currentNumber;\r\n      }\r\n      if (colCount === 0) {\r\n        acrossClue = `${currentNumber}A`;\r\n      }\r\n      if (row[colCount - 1] === '#BlackSquare#') {\r\n        acrossClue = `${currentNumber}A`;\r\n      }\r\n      if (\r\n        board[rowCount - 1] &&\r\n        board[rowCount - 1][colCount] === '#BlackSquare#'\r\n      ) {\r\n        downClueTracker[colCount] = currentNumber;\r\n      }\r\n      downClue = `${downClueTracker[colCount]}D`;\r\n      cluesObj[acrossClue].cells.push([rowCount, colCount]);\r\n      cluesObj[downClue].cells.push([rowCount, colCount]);\r\n      // Check if this cell gets a number\r\n      if (\r\n        rowCount === 0 ||\r\n        colCount === 0 ||\r\n        row[colCount - 1] === '#BlackSquare#' ||\r\n        board[rowCount - 1][colCount] === '#BlackSquare#'\r\n      ) {\r\n        number = currentNumber;\r\n        currentNumber += 1;\r\n      }\r\n\r\n      return {\r\n        guess: userBoard[rowCount][colCount],\r\n        answer: col,\r\n        number,\r\n        clues: [acrossClue, downClue],\r\n      };\r\n    });\r\n  });\r\n  return { ...puzzle, playableBoard, clues: cluesObj };\r\n};\r\n\r\n// Take the current position, direction, keypressed and finds the next cell in that row or col that isn't a blacksquare.\r\n// If it reaches the end of the board it goes back to the beginning\r\n// If a key (arrow key code) is not provided we deduce it from the direction\r\n\r\nexport const findNextCell = (\r\n  [row, col],\r\n  direction,\r\n  key = direction === 'across' ? 39 : 40,\r\n  board\r\n) => {\r\n  let validCellFound;\r\n  while (!validCellFound) {\r\n    if (direction === 'across') {\r\n      if (key === 39) {\r\n        col += 1;\r\n        if (!board[row][col]) {\r\n          col = 0;\r\n        }\r\n      } else {\r\n        col -= 1;\r\n        if (!board[row][col]) {\r\n          col = board[0].length - 1;\r\n        }\r\n      }\r\n    } else if (direction === 'down') {\r\n      if (key === 40) {\r\n        row += 1;\r\n        if (!board[row]) {\r\n          row = 0;\r\n        }\r\n      } else {\r\n        row -= 1;\r\n        if (!board[row]) {\r\n          row = board.length - 1;\r\n        }\r\n      }\r\n    }\r\n    if (board[row][col].answer === '#BlackSquare#') {\r\n      validCellFound = false;\r\n    } else {\r\n      validCellFound = true;\r\n      return [row, col];\r\n    }\r\n  }\r\n};\r\n\r\n// Search for end or beginnging of a word\r\n// board = playableBoard\r\nexport const searchForBoundaryCell = (row, col, direction, incOrDec, board) => {\r\n  let cell;\r\n  let endCounter = direction === 'across' ? col : row;\r\n  let currentCell;\r\n  while (!cell) {\r\n    if (direction === 'across') {\r\n      currentCell = board[row][endCounter];\r\n    } else {\r\n      try {\r\n        currentCell = board[parseInt(endCounter, 10)][col];\r\n      } catch (err) {\r\n        currentCell = undefined;\r\n      }\r\n    }\r\n    if (!currentCell || currentCell === '#BlackSquare#') {\r\n      cell = incOrDec === 'INCREMENT' ? endCounter - 1 : endCounter + 1;\r\n      return cell;\r\n    }\r\n    if (incOrDec === 'INCREMENT') {\r\n      endCounter += 1;\r\n    } else {\r\n      endCounter -= 1;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * @param  {ObjectId} puzzleId\r\n * @param  {Array} playableBoard\r\n * @return {Array} saveableBoard\r\n * @description maps over a playable board returning only the guesses\r\n */\r\nexport const buildSaveableBoard = playableBoard => {\r\n  return playableBoard.map(row => {\r\n    return row.map(cell => {\r\n      if (cell.answer === '#BlackSquare#') {\r\n        return cell.answer;\r\n      }\r\n      return cell.guess;\r\n    });\r\n  });\r\n};\r\n\r\n// saves board reducer selection object to localStorage\r\nexport const saveSelection = (selection, direction, userPuzzleId) => {\r\n  try {\r\n    selection.userPuzzleId = userPuzzleId;\r\n    window.localStorage.setItem('selection', JSON.stringify(selection));\r\n    window.localStorage.setItem('direction', direction);\r\n  } catch (err) {\r\n    console.log('error writing selection to local storage: ', err);\r\n  }\r\n};\r\n","import { findNextCell } from './Board.utils';\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case 'LOAD_PUZZLE': {\r\n      return {\r\n        ...state,\r\n        playableBoard: action.playableBoard,\r\n        clues: action.clues,\r\n      };\r\n    }\r\n\r\n    case 'SELECT_CLUE': {\r\n      const newDirection =\r\n        action.clue.position.indexOf('D') > -1 ? 'down' : 'across';\r\n      return {\r\n        ...state,\r\n        direction: newDirection,\r\n        selection: {\r\n          focusedCell: action.clue.cells[0],\r\n          currentCells: action.clue.cells,\r\n          currentClues: [\r\n            newDirection === 'across'\r\n              ? action.clue.position\r\n              : state.playableBoard[action.clue.cells[0][0]][\r\n                  action.clue.cells[0][1]\r\n                ].clues[0],\r\n            newDirection === 'down'\r\n              ? action.clue.position\r\n              : state.playableBoard[action.clue.cells[0][0]][\r\n                  action.clue.cells[0][1]\r\n                ].clues[1],\r\n          ],\r\n        },\r\n      };\r\n    }\r\n\r\n    case 'SELECT_CELL': {\r\n      const { cell } = action;\r\n      const { clues, playableBoard, direction, selection } = state;\r\n      let newDirection = direction;\r\n      if (\r\n        selection.focusedCell[0] === cell[0] &&\r\n        selection.focusedCell[1] === cell[1]\r\n      ) {\r\n        newDirection = direction === 'across' ? 'down' : 'across';\r\n      }\r\n      return {\r\n        ...state,\r\n        direction: newDirection,\r\n        selection: {\r\n          focusedCell: cell,\r\n          currentCells:\r\n            clues[\r\n              playableBoard[cell[0]][cell[1]].clues[\r\n                newDirection === 'across' ? 0 : 1\r\n              ]\r\n            ].cells,\r\n          currentClues: playableBoard[cell[0]][cell[1]].clues,\r\n        },\r\n      };\r\n    }\r\n\r\n    case 'NAVIGATE': {\r\n      const { playableBoard, clues, selection } = state;\r\n      const { currentClues, focusedCell } = selection;\r\n      const { keyCode, options } = action;\r\n      const updatedBoard = [...playableBoard];\r\n      let { currentCells } = selection;\r\n      let nextCell = focusedCell; // Do I need to copy these so React knows its value has changed ? @ todo look into this\r\n      let { direction } = state;\r\n      if (options && options.clearFirst) {\r\n        updatedBoard[focusedCell[0]][focusedCell[1]].guess = '';\r\n      }\r\n      if (keyCode % 2 !== 0 && state.direction === 'down') {\r\n        direction = 'across';\r\n        currentCells = clues[currentClues[0]].cells;\r\n      } else if (keyCode % 2 === 0 && state.direction === 'across') {\r\n        direction = 'down';\r\n        currentCells = clues[currentClues[1]].cells;\r\n      } else {\r\n        nextCell = findNextCell(focusedCell, direction, keyCode, playableBoard);\r\n        const [row, col] = nextCell;\r\n        currentCells =\r\n          clues[playableBoard[row][col].clues[direction === 'across' ? 0 : 1]]\r\n            .cells;\r\n      }\r\n      return {\r\n        ...state,\r\n        playableBoard: updatedBoard,\r\n        direction,\r\n        selection: {\r\n          ...selection,\r\n          currentCells,\r\n          focusedCell: nextCell,\r\n          currentClues: playableBoard[nextCell[0]][nextCell[1]].clues,\r\n        },\r\n      };\r\n    }\r\n\r\n    case 'GUESS': {\r\n      const { playableBoard, selection, direction, clues } = state;\r\n      const updatedPlayableBoard = [...playableBoard];\r\n      const { focusedCell } = selection;\r\n      const [currentRow, currentCol] = selection.focusedCell;\r\n      updatedPlayableBoard[currentRow][\r\n        currentCol\r\n      ].guess = action.key.toUpperCase();\r\n      const nextCell = findNextCell(\r\n        focusedCell,\r\n        direction,\r\n        direction === 'across' ? 39 : 40,\r\n        playableBoard\r\n      );\r\n      const [row, col] = nextCell;\r\n      const currentCells =\r\n        clues[playableBoard[row][col].clues[direction === 'across' ? 0 : 1]]\r\n          .cells;\r\n      return {\r\n        ...state,\r\n        playableBoard: updatedPlayableBoard,\r\n        selection: {\r\n          ...selection,\r\n          currentCells,\r\n          focusedCell: nextCell,\r\n          currentClues: playableBoard[nextCell[0]][nextCell[1]].clues,\r\n        },\r\n      };\r\n    }\r\n\r\n    case 'PAUSE': {\r\n      return {\r\n        ...state,\r\n        isPlaying: false,\r\n      };\r\n    }\r\n\r\n    case 'PLAY': {\r\n      return {\r\n        ...state,\r\n        isPlaying: true,\r\n      };\r\n    }\r\n\r\n    case 'REVEAL_SQUARE': {\r\n      const updatedRevealedCells = [...state.revealedCells];\r\n      updatedRevealedCells.push(state.selection.focusedCell);\r\n      return { ...state, revealedCells: updatedRevealedCells };\r\n    }\r\n\r\n    case 'REVEAL_WORD': {\r\n      const updatedRevealedCells = [...state.revealedCells].concat(\r\n        state.selection.currentCells\r\n      );\r\n      return { ...state, revealedCells: updatedRevealedCells };\r\n    }\r\n\r\n    case 'REVEAL_PUZZLE': {\r\n      return {\r\n        ...state,\r\n        isPuzzleRevealed: true,\r\n        isPuzzleSolved: true,\r\n        isPlaying: false,\r\n      };\r\n    }\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Sidebar.module.css';\r\n\r\nconst SidebarLayout = ({\r\n  sideBar,\r\n  mainContent,\r\n  breakPointPercent,\r\n  heightsAreEqual,\r\n}) => {\r\n  return (\r\n    <div className={styles.Page}>\r\n      <div className={styles.Sidebar}>{sideBar}</div>\r\n      <div\r\n        className={styles.MainContent}\r\n        style={{\r\n          minWidth: `calc(${breakPointPercent}% - 1rem)`,\r\n          alignItems: heightsAreEqual ? 'stretch' : 'flexStart',\r\n        }}\r\n      >\r\n        {mainContent}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nSidebarLayout.propTypes = {\r\n  sideBar: PropTypes.element.isRequired,\r\n  mainContent: PropTypes.element.isRequired,\r\n  breakPointPercent: PropTypes.number,\r\n  heightsAreEqual: PropTypes.bool,\r\n};\r\n\r\nSidebarLayout.defaultProps = {\r\n  breakPointPercent: 50,\r\n  heightsAreEqual: false,\r\n};\r\nexport default SidebarLayout;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst Modal = ({ isOpen, close, children }) => {\r\n  return (\r\n    <>\r\n      <div className={isOpen ? styles.background : styles.hiddenBackground} />\r\n      <div className={isOpen ? styles.modal : styles.hiddenModal}>\r\n        <div\r\n          data-testid=\"close-modal\"\r\n          className={styles.close}\r\n          onClick={close}\r\n          onKeyPress={close}\r\n          tabIndex=\"-2\"\r\n          role=\"button\"\r\n        >\r\n          <i className=\"fas fa-times\" />\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  close: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Toolbar.module.css';\r\n\r\nconst Toolbar = ({ title, author, Clock, DropdownMenu }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.subContainer}>\r\n        <div className={styles.menuItem}>{title}</div>\r\n        <div className={styles.menuItem}>{author}</div>\r\n      </div>\r\n      <div className={styles.subContainer}>\r\n        <div className={styles.menuItem}>{Clock}</div>\r\n      </div>\r\n      <div className={styles.subContainer}>\r\n        <div className={styles.menuItem}>{DropdownMenu}</div>\r\n        <div className={styles.menuItem}>Hint</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nToolbar.propTypes = {\r\n  title: PropTypes.string,\r\n  author: PropTypes.string,\r\n  Clock: PropTypes.element.isRequired,\r\n  DropdownMenu: PropTypes.element.isRequired,\r\n};\r\n\r\nToolbar.defaultProps = {\r\n  title: null,\r\n  author: null,\r\n};\r\n\r\nexport default Toolbar;\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Clues.module.css';\r\n\r\nconst Clue = ({\r\n  isHighlighted,\r\n  isSecondaryHighlight,\r\n  selectClue,\r\n  position,\r\n  text,\r\n  isPlaying,\r\n}) => {\r\n  const clueRef = useRef(null);\r\n\r\n  if (clueRef.current && (isHighlighted || isSecondaryHighlight)) {\r\n    // @TODO we can't set behavior smooth...only the down column will scroll.'\r\n    // if (isSecondaryHighlight) {\r\n    //   setTimeout(() => {\r\n    //     console.log('scrolling secondary');\r\n    clueRef.current.scrollIntoView();\r\n    //   }, 260);\r\n    // } else if (isHighlighted) {\r\n    //   console.log('scrolling primary');\r\n    //   clueRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    // }\r\n  }\r\n  return (\r\n    <li\r\n      ref={clueRef}\r\n      className={isHighlighted ? styles.highlighted : styles.clue}\r\n    >\r\n      <div\r\n        className={\r\n          isSecondaryHighlight\r\n            ? styles.secondaryHighlight\r\n            : styles.secondaryNoHighlight\r\n        }\r\n      />\r\n      <div\r\n        role=\"button\"\r\n        tabIndex=\"-1\"\r\n        className={isPlaying ? styles.clueText : styles.hiddenClueText}\r\n        onClick={selectClue}\r\n        onKeyPress={selectClue}\r\n      >\r\n        <span style={{ fontWeight: 600 }}>{position}</span> {text}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nClue.propTypes = {\r\n  isHighlighted: PropTypes.bool.isRequired,\r\n  isSecondaryHighlight: PropTypes.bool.isRequired,\r\n  selectClue: PropTypes.func.isRequired,\r\n  position: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Clue;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Clue from './Clue';\r\n// import { Aux } from '../Shared';\r\nimport styles from './Clues.module.css';\r\n\r\n/** consider recomposing this so we dont have to drill props down this far */\r\nconst Clues = ({ clues, currentClues, selectClue, direction, isPlaying }) => {\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <div className={styles.title}>Across</div>\r\n        <ul className={styles.clues}>\r\n          {Object.keys(clues)\r\n            .filter(clue => clues[clue].position.indexOf('A') > -1)\r\n            .map(clue => (\r\n              <Clue\r\n                key={clues[clue].position}\r\n                isPlaying={isPlaying}\r\n                isHighlighted={\r\n                  currentClues[0] === clue && direction === 'across'\r\n                }\r\n                isSecondaryHighlight={\r\n                  currentClues[0] === clue && direction === 'down'\r\n                }\r\n                selectClue={() => selectClue(clues[clue])}\r\n                position={clues[clue].position}\r\n                text={clues[clue].clue.text}\r\n              />\r\n            ))}\r\n        </ul>\r\n      </div>\r\n      <div className={styles.container}>\r\n        <div className={styles.title}>Down</div>\r\n        <ul className={styles.clues}>\r\n          {Object.keys(clues)\r\n            .filter(clue => clues[clue].position.indexOf('D') > -1)\r\n            .map(clue => (\r\n              <Clue\r\n                key={clues[clue].position}\r\n                isPlaying={isPlaying}\r\n                isHighlighted={currentClues[1] === clue && direction === 'down'}\r\n                isSecondaryHighlight={\r\n                  currentClues[1] === clue && direction === 'across'\r\n                }\r\n                selectClue={() => selectClue(clues[clue])}\r\n                position={clues[clue].position}\r\n                text={clues[clue].clue.text}\r\n              />\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nClues.propTypes = {\r\n  direction: PropTypes.oneOf(['across', 'down']).isRequired,\r\n  clues: PropTypes.shape({}).isRequired,\r\n  currentClues: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  selectClue: PropTypes.func.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Clues;\r\n","// Copied verbatim from https://overreacted.io/making-setinterval-declarative-with-react-hooks/\r\nimport { useEffect, useRef } from 'react';\r\n\r\nfunction useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n\r\nexport default useInterval;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Pause.module.css';\r\n\r\nconst Pause = ({ size, onClick }) => {\r\n  return (\r\n    <svg\r\n      onClick={onClick}\r\n      aria-hidden=\"true\"\r\n      focusable=\"false\"\r\n      data-prefix=\"fas\"\r\n      data-icon=\"pause\"\r\n      className={styles.pause}\r\n      role=\"img\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 448 512\"\r\n      height={size}\r\n    >\r\n      <path\r\n        fill=\"currentColor\"\r\n        d=\"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nPause.propTypes = {\r\n  size: PropTypes.number.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Pause;\r\n","import React from 'react';\r\nimport gql from 'graphql-tag';\r\nimport { withApollo } from 'react-apollo';\r\nimport PropTypes from 'prop-types';\r\nimport useInterval from '../Hooks/useInterval';\r\nimport styles from './Clock.module.css';\r\nimport Pause from '../Shared/Pause';\r\n\r\nconst UPDATE_TIME = gql`\r\n  mutation updateUserPuzzle($_id: ID!, $time: Float!) {\r\n    updateUserPuzzle(_id: $_id, time: $time) {\r\n      _id\r\n      time\r\n    }\r\n  }\r\n`;\r\nconst formatTime = secNum => {\r\n  let timeString = '';\r\n  let hours = Math.floor(secNum / 3600);\r\n  let minutes = Math.floor((secNum - hours * 3600) / 60);\r\n  let seconds = secNum - hours * 3600 - minutes * 60;\r\n\r\n  if (hours < 10 && hours > 0) {\r\n    hours = `0${hours}:`;\r\n    timeString += hours;\r\n  }\r\n  if (minutes < 10) {\r\n    minutes = `0${minutes}`;\r\n  }\r\n  if (seconds < 10) {\r\n    seconds = `0${seconds}`;\r\n  }\r\n  timeString += `${minutes}:${seconds}`;\r\n  return timeString;\r\n};\r\n\r\nconst Clock = ({ time, pause, isPlaying, userPuzzleId, client }) => {\r\n  // Clock\r\n  useInterval(\r\n    () => {\r\n      client.mutate({\r\n        mutation: UPDATE_TIME,\r\n        variables: { _id: userPuzzleId, time: time + 1 },\r\n        networkPolicy: 'cache-only',\r\n      });\r\n      // setCurrentTime(currentTime + 1);\r\n    },\r\n    isPlaying ? 1000 : null\r\n  );\r\n\r\n  return (\r\n    <div className={styles.clock}>\r\n      {formatTime(time)}\r\n      {isPlaying ? <Pause size={15} onClick={pause} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nClock.propTypes = {\r\n  time: PropTypes.number.isRequired,\r\n  pause: PropTypes.func.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n  userPuzzleId: PropTypes.string.isRequired,\r\n  client: PropTypes.shape({ mutate: PropTypes.func }).isRequired,\r\n};\r\n\r\nexport default withApollo(Clock);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './DropdownMenu.module.css';\r\n\r\nconst DropdownMenu = props => {\r\n  const { name, list, headerLink, offSet, 'data-testid': dataTestId } = props;\r\n  return (\r\n    <div className={styles.Container}>\r\n      <div className={styles.Header}>\r\n        {headerLink ? <Link to={headerLink || ''}>{name}</Link> : name}\r\n      </div>\r\n      <div\r\n        className={styles.DropdownContent}\r\n        style={{ top: offSet }}\r\n        data-testid={dataTestId}\r\n      >\r\n        {list.map(item => {\r\n          return (\r\n            <div className={styles.DropdownItem} key={item.name}>\r\n              {item.link ? (\r\n                <Link to={item.link || ''}>{item.name}</Link>\r\n              ) : (\r\n                <button type=\"button\" onClick={item.onClick}>\r\n                  {item.name}\r\n                </button>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdownMenu.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  offSet: PropTypes.number,\r\n  list: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      link: PropTypes.string,\r\n      onClick: PropTypes.func,\r\n      name: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  headerLink: PropTypes.string,\r\n  'data-testid': PropTypes.string,\r\n};\r\n\r\nDropdownMenu.defaultProps = {\r\n  offSet: 12,\r\n  headerLink: null,\r\n  'data-testid': 'dropdownNavItem',\r\n};\r\n\r\nexport default DropdownMenu;\r\n","import React, { useReducer, useEffect, useCallback } from 'react';\r\nimport { withApollo } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\nimport PropTypes from 'prop-types';\r\nimport debounce from 'lodash.debounce';\r\nimport puzzleReducer from './puzzleReducer';\r\nimport { buildSaveableBoard } from './Board.utils';\r\nimport Sidebar from '../Layouts/Sidebar';\r\nimport styles from './SolveSpace.module.css';\r\nimport Modal from '../Shared/Modal';\r\nimport Button from '../Shared/Button';\r\nimport Toolbar from './Toolbar';\r\nimport Board from './Board';\r\nimport Clues from './Clues';\r\nimport Clock from './Clock';\r\nimport DropdownMenu from '../Shared/DropdownMenu';\r\n\r\nconst UPDATE_PLAYER_BOARD = gql`\r\n  mutation updateUserPuzzle(\r\n    $_id: ID!\r\n    $board: [[String!]]\r\n    $revealedCells: [[Float]]\r\n    $isRevealed: Boolean\r\n    $isSolved: Boolean\r\n  ) {\r\n    updateUserPuzzle(\r\n      _id: $_id\r\n      board: $board\r\n      revealedCells: $revealedCells\r\n      isRevealed: $isRevealed\r\n      isSolved: $isSolved\r\n    ) {\r\n      _id\r\n      board\r\n      time\r\n      revealedCells\r\n      isRevealed\r\n      isSolved\r\n    }\r\n  }\r\n`;\r\n\r\nconst Solvespace = ({\r\n  puzzle,\r\n  userPuzzle,\r\n  time,\r\n  revealedCells,\r\n  isRevealed = false,\r\n  isSolved = false,\r\n  client,\r\n}) => {\r\n  const [state, dispatch] = useReducer(puzzleReducer, {\r\n    playableBoard: null,\r\n    clues: {},\r\n    direction: 'across',\r\n    selection: {\r\n      focusedCell: [0, 0],\r\n      currentCells: puzzle.clues['1A'].cells,\r\n      currentClues: ['1A', '1D'],\r\n    },\r\n    isPlaying: false,\r\n  });\r\n\r\n  const { playableBoard, clues, selection, direction, isPlaying } = state;\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: 'LOAD_PUZZLE',\r\n      playableBoard: puzzle.playableBoard,\r\n      clues: puzzle.clues,\r\n      time,\r\n    });\r\n  }, []);\r\n\r\n  const debouncedSave = useCallback(\r\n    debounce(board => {\r\n      client.mutate({\r\n        mutation: UPDATE_PLAYER_BOARD,\r\n        variables: {\r\n          _id: userPuzzle,\r\n          board: buildSaveableBoard(board),\r\n        },\r\n      });\r\n    }, 1000),\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (playableBoard) {\r\n      debouncedSave(playableBoard);\r\n    }\r\n  }, [playableBoard]);\r\n\r\n  const updateRevealed = scope => {\r\n    let updatedRevealedCells = [...revealedCells];\r\n    const { currentCells, focusedCell } = selection;\r\n    if (scope === 'puzzle') {\r\n      isRevealed = true;\r\n      isSolved = true;\r\n    } else if (scope === 'word') {\r\n      updatedRevealedCells = updatedRevealedCells.concat(currentCells);\r\n    } else if (scope === 'square') {\r\n      updatedRevealedCells.push(focusedCell);\r\n    }\r\n    client.mutate({\r\n      mutation: UPDATE_PLAYER_BOARD,\r\n      variables: {\r\n        _id: userPuzzle,\r\n        revealedCells: updatedRevealedCells,\r\n        isRevealed,\r\n        isSolved,\r\n      },\r\n    });\r\n  };\r\n  const { currentClues } = selection;\r\n  const { title, author } = puzzle;\r\n  return (\r\n    <div className={styles.page}>\r\n      <Modal\r\n        isOpen={!isPlaying && !isSolved}\r\n        close={() => dispatch({ type: 'PLAY' })}\r\n      >\r\n        <Button\r\n          theme=\"Light\"\r\n          onClick={() => {\r\n            dispatch({ type: 'PLAY' });\r\n          }}\r\n        >\r\n          {time === 0 ? 'start' : 'resume'}\r\n        </Button>\r\n      </Modal>\r\n      <div className={styles.container}>\r\n        <Toolbar\r\n          title={title}\r\n          author={author}\r\n          Clock={\r\n            <Clock\r\n              time={time}\r\n              isPlaying={isPlaying}\r\n              pause={() => dispatch({ type: 'PAUSE' })}\r\n              userPuzzleId={userPuzzle}\r\n            />\r\n          }\r\n          DropdownMenu={\r\n            <DropdownMenu\r\n              name=\"Reveal\"\r\n              list={[\r\n                {\r\n                  name: 'square',\r\n                  onClick: () => updateRevealed('square'),\r\n                },\r\n                {\r\n                  name: 'word',\r\n                  onClick: () => updateRevealed('word'),\r\n                },\r\n                {\r\n                  name: 'puzzle',\r\n                  onClick: () => updateRevealed('puzzle'),\r\n                },\r\n              ]}\r\n              offSet={18}\r\n            />\r\n          }\r\n        />\r\n        <Sidebar\r\n          heightsAreEqual\r\n          breakPointPercent={40}\r\n          sideBar={\r\n            <div className={styles.left}>\r\n              <div\r\n                className={\r\n                  isPlaying || isSolved ? styles.focusedClue : styles.hiddenClue\r\n                }\r\n              >\r\n                <span className={styles.focusedCluePosition}>\r\n                  {currentClues\r\n                    ? currentClues[direction === 'across' ? 0 : 1]\r\n                    : null}\r\n                </span>\r\n                {currentClues\r\n                  ? puzzle.clues[currentClues[direction === 'across' ? 0 : 1]]\r\n                      .clue.text\r\n                  : null}\r\n              </div>\r\n              {playableBoard ? (\r\n                <Board\r\n                  isPlaying={isSolved || isPlaying}\r\n                  playableBoard={playableBoard}\r\n                  revealedCells={revealedCells}\r\n                  isPuzzleRevealed={isRevealed}\r\n                  isPuzzleSolved={isSolved}\r\n                  currentCells={selection.currentCells}\r\n                  focusedCell={selection.focusedCell}\r\n                  direction={direction}\r\n                  selectCell={cell => dispatch({ type: 'SELECT_CELL', cell })}\r\n                  navigate={(keyCode, options) =>\r\n                    dispatch({ type: 'NAVIGATE', keyCode, options })\r\n                  }\r\n                  guess={key => dispatch({ type: 'GUESS', key })}\r\n                />\r\n              ) : null}\r\n            </div>\r\n          }\r\n          mainContent={\r\n            <div className={styles.clues}>\r\n              {currentClues ? (\r\n                <Clues\r\n                  isPlaying={isPlaying || isSolved}\r\n                  clues={clues}\r\n                  direction={direction}\r\n                  currentClues={selection.currentClues}\r\n                  selectClue={clue => {\r\n                    dispatch({ type: 'SELECT_CLUE', clue });\r\n                  }}\r\n                />\r\n              ) : null}\r\n            </div>\r\n          }\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nSolvespace.propTypes = {\r\n  puzzle: PropTypes.shape({\r\n    playableBoard: PropTypes.arrayOf(\r\n      PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n          guess: PropTypes.string,\r\n          answer: PropTypes.string.isRequired,\r\n          number: PropTypes.number,\r\n          clues: PropTypes.arrayOf(PropTypes.string),\r\n        }).isRequired\r\n      ).isRequired\r\n    ).isRequired,\r\n    clues: PropTypes.shape({\r\n      answer: PropTypes.string,\r\n      clue: PropTypes.string,\r\n      position: PropTypes.string,\r\n      cells: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\r\n    }).isRequired,\r\n    _id: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  userPuzzle: PropTypes.string.isRequired,\r\n  time: PropTypes.number.isRequired,\r\n  revealedCells: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\r\n  isRevealed: PropTypes.bool,\r\n  isSolved: PropTypes.bool,\r\n  client: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nSolvespace.defaultProps = {\r\n  isRevealed: false,\r\n  isSolved: false,\r\n  revealedCells: [],\r\n};\r\n\r\nexport default withApollo(Solvespace);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Query } from 'react-apollo';\r\nimport { GET_PUZZLE } from '../utils/queries';\r\nimport { buildPlayableBoard } from './Board.utils';\r\nimport SolveSpace from './SolveSpace';\r\n\r\nconst FetchPuzzle = ({ match }) => {\r\n  const puzzleId = match.params.id;\r\n  return (\r\n    <Query query={GET_PUZZLE} variables={{ puzzleId }}>\r\n      {({ loading, error, data }) => {\r\n        if (loading) return '...loading';\r\n        if (error) return console.log({ error });\r\n        if (data) {\r\n          const {\r\n            playablePuzzle: { puzzle, userPuzzle, success, message },\r\n          } = data.playablePuzzle;\r\n          if (!success && message) {\r\n            return message;\r\n          }\r\n          if (puzzle && userPuzzle) {\r\n            const { _id } = userPuzzle;\r\n            const playablePuzzle = buildPlayableBoard(puzzle, userPuzzle);\r\n            return (\r\n              <SolveSpace\r\n                puzzle={playablePuzzle}\r\n                userPuzzle={_id}\r\n                {...userPuzzle}\r\n              />\r\n            );\r\n          }\r\n        }\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\n\r\nFetchPuzzle.propTypes = {\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n    }),\r\n  }).isRequired,\r\n};\r\n\r\nexport default FetchPuzzle;\r\n","import moment from 'moment';\r\n\r\nexport const buildMonth = (month, year) => {\r\n  const dayMap = {\r\n    0: 'Sunday',\r\n    1: 'Monday',\r\n    2: 'Tuesday',\r\n    3: 'Wednesday',\r\n    4: 'Thursday',\r\n    5: 'Friday',\r\n    6: 'Saturday',\r\n  };\r\n  const days = Object.keys(dayMap).map(day => dayMap[day]);\r\n\r\n  // const dayOfWeek = dayMap[moment(`${year}/${month}/1`).weekday()];\r\n  const daysInMonth = moment(`${year}/${month}`).daysInMonth();\r\n  // let noOfDays =\r\n  for (let i = 1; i <= daysInMonth; i += 1) {\r\n    const dayNumber = moment(`${year}/${month}/${i}`).weekday();\r\n    const dayName = dayMap[dayNumber];\r\n    if (i === 1 && dayNumber > 0) {\r\n      for (let x = 0; x < dayNumber; x += 1) {\r\n        days.push('BLANK');\r\n      }\r\n    }\r\n\r\n    days.push({ day: dayName, date: `${month}/${i}/${year}`, number: i });\r\n  }\r\n  for (let q = 0; q < days.length % 7; q += 1) {\r\n    days.push('BLANK');\r\n  }\r\n  return days;\r\n};\r\n\r\nexport const monthMap = {\r\n  '1': 'January',\r\n  '2': 'February',\r\n  '3': 'March',\r\n  '4': 'April',\r\n  '5': 'May',\r\n  '6': 'June',\r\n  '7': 'July',\r\n  '8': 'August',\r\n  '9': 'September',\r\n  '10': 'October',\r\n  '11': 'November',\r\n  '12': 'December',\r\n};\r\n\r\nexport const numberMonth = {\r\n  January: '1',\r\n  February: '2',\r\n  March: '3',\r\n  April: '4',\r\n  May: '5',\r\n  June: '6',\r\n  July: '7',\r\n  August: '8',\r\n  September: '9',\r\n  October: '10',\r\n  November: '11',\r\n  December: '12',\r\n};\r\nexport const buildYearsArr = () => {\r\n  const today = new Date();\r\n  const yyyy = today.getFullYear();\r\n  const years = [];\r\n  for (let year = yyyy; year >= 1942; year -= 1) {\r\n    years.push(year.toString());\r\n  }\r\n  return years;\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './PuzzleIcon.module.css';\r\n\r\nconst PuzzleIcon = ({ name, author, editor, date, _id, size }) => {\r\n  return (\r\n    <Link to={_id ? `solve/${_id}` : ''}>\r\n      <div className={styles.PuzzleIcon}>\r\n        <img\r\n          height={size}\r\n          className={styles.Image}\r\n          alt=\"puzzleIcon\"\r\n          src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NyIgaGVpZ2h0PSI5NyIgdmlld0JveD0iMCAwIDk3IDk3Ij48cGF0aCBmaWxsPSIjNzk3OTg3IiBkPSJNMi41IDIuNWg5MnY5MmgtOTJ6Ii8+PHBhdGggZD0iTTkyIDV2ODdINVY1aDg3bTUtNUgwdjk3aDk3VjB6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUgNWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3em0yMiAwaDIxdjIxSDQ5eiIvPjxwYXRoIGQ9Ik03MSA1aDIxdjIxSDcxeiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDI3aDIxdjIxSDV6Ii8+PHBhdGggZD0iTTI3IDI3aDIxdjIxSDI3eiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00OSAyN2gyMXYyMUg0OXptMjIgMGgyMXYyMUg3MXpNNSA0OWgyMXYyMUg1em0yMiAwaDIxdjIxSDI3eiIvPjxwYXRoIGQ9Ik00OSA0OWgyMXYyMUg0OXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzEgNDloMjF2MjFINzF6Ii8+PHBhdGggZD0iTTUgNzFoMjF2MjFINXoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjcgNzFoMjF2MjFIMjd6bTIyIDBoMjF2MjFINDl6bTIyIDBoMjF2MjFINzF6Ii8+PC9zdmc+\"\r\n        />\r\n        {name ? (\r\n          <div className={styles.Detail}>\r\n            <span className={styles.Header}>Name:</span> {name}\r\n          </div>\r\n        ) : null}\r\n        {date ? <div className={styles.Detail}>{date}</div> : null}\r\n        {author ? <div className={styles.author}>{author}</div> : null}\r\n        {editor ? (\r\n          <div className={styles.Detail}>Edited by {editor}</div>\r\n        ) : null}\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nPuzzleIcon.propTypes = {\r\n  _id: PropTypes.string,\r\n  size: PropTypes.number,\r\n  name: PropTypes.string,\r\n  date: PropTypes.string,\r\n  author: PropTypes.string,\r\n  editor: PropTypes.string,\r\n};\r\n\r\nPuzzleIcon.defaultProps = {\r\n  _id: null,\r\n  size: null,\r\n  name: null,\r\n  author: null,\r\n  date: null,\r\n  editor: null,\r\n};\r\n\r\nexport default PuzzleIcon;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { buildMonth } from './utils';\r\nimport styles from './Month.module.css';\r\nimport PuzzleIcon from '../Shared/PuzzleIcon';\r\n\r\nconst Month = ({ puzzles, month, year }) => {\r\n  // return <div>{puzzles.map(puzzle => puzzle.title)}</div>;\r\n  // FOr the first few years of the NYT crossword puzzle the puzzle was only published on sunday.\r\n  // For these months we need to construct the days of the month and then figure out which puzzle goes where\r\n  // in the array of dates\r\n  //\r\n  // For puzzles after 1952 we have a puzzle for every day of the week until the present day without exception\r\n  // so for those years (which is most) we can just iterate over the list of puzzles\r\n  const days = buildMonth(month, year);\r\n  let puzzleDates;\r\n  if (puzzles) {\r\n    puzzleDates = puzzles.map(puzzle => puzzle.date);\r\n  } else {\r\n    puzzleDates = new Array(31);\r\n  }\r\n\r\n  return (\r\n    <ul className={styles.month}>\r\n      {days.map(day => {\r\n        if (puzzleDates.indexOf(day.date) > -1) {\r\n          const index = puzzleDates.indexOf(day.date);\r\n          return (\r\n            <div className={styles.day} key={day.date}>\r\n              {/* <div className={styles.playRibbon}>Play</div> */}\r\n              <div className={styles.number}>{day.number}</div>\r\n\r\n              <PuzzleIcon size={80} _id={puzzles[index]._id} />\r\n              {/* <span className={styles.title}>\r\n                    {puzzles[index].title.toLowerCase()}\r\n                  </span>\r\n                  <div>{puzzles[index].author}</div> */}\r\n            </div>\r\n          );\r\n        }\r\n        if (day === 'BLANK') {\r\n          return <div className={styles.day} key={day.date} />;\r\n        }\r\n        return (\r\n          <div\r\n            className={day.number ? styles.day : styles.dayHeading}\r\n            key={day.date}\r\n          >\r\n            {day.number || day}\r\n          </div>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nMonth.propTypes = {\r\n  puzzles: PropTypes.arrayOf(PropTypes.shape({})),\r\n  month: PropTypes.string.isRequired,\r\n  year: PropTypes.string.isRequired,\r\n};\r\n\r\nMonth.defaultProps = {\r\n  puzzles: [],\r\n};\r\nexport default Month;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Dropdown.module.css';\r\n\r\nconst Dropdown = ({ list, title, select }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const ElementList = list.map((item, i) => {\r\n    const colorClass = styles.listItem;\r\n    let backgroundClass = i % 2 === 0 ? styles.background1 : styles.background2;\r\n    if (item.toString() === title.toString())\r\n      backgroundClass = styles.activeBackground;\r\n    const className = [colorClass, backgroundClass].join(' ');\r\n    return (\r\n      <div\r\n        key={item}\r\n        onClick={() => {\r\n          select(item);\r\n          /** @todo replace with custom useTimeout hook */\r\n          setTimeout(() => setIsOpen(false), 600);\r\n        }}\r\n        onKeyPress={e => {\r\n          if (e.key === 'Enter') {\r\n            select(item);\r\n          }\r\n        }}\r\n        tabIndex=\"-2\"\r\n        role=\"button\"\r\n        className={className}\r\n      >\r\n        {item}\r\n      </div>\r\n    );\r\n  });\r\n  // const ddState = listOpen ? classes.Open : classes.Close;\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        onKeyPress={e => (e.key === 'Enter' ? setIsOpen(!isOpen) : null)}\r\n        role=\"button\"\r\n        tabIndex=\"-3\"\r\n        className={styles.header}\r\n        data-testid=\"dropdown\"\r\n      >\r\n        <span>{title}</span> <i className=\"fas fa-caret-down\" />\r\n      </div>\r\n      <div className={isOpen ? styles.opened : styles.closed}>\r\n        {ElementList}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  list: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  select: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Dropdown;\r\n","import React, { useState } from 'react';\r\n// import PropTypes from 'prop-types';\r\n// import moment from 'moment';\r\nimport { Query } from 'react-apollo';\r\nimport Month from './Month';\r\nimport styles from './Calendar.module.css';\r\n// import YearList from './YearList';\r\nimport Dropdown from './Dropdown';\r\nimport { FETCH_PUZZLES } from '../utils/queries';\r\nimport { monthMap, numberMonth, buildYearsArr } from './utils';\r\n\r\nconst Calendar = () => {\r\n  // console.log('current date', moment(Date.now()).format('M/D/YYYY'));\r\n  const date = new Date();\r\n\r\n  let month = date.getUTCMonth() + 1;\r\n  month = month.toString();\r\n  const year = date.getUTCFullYear().toString();\r\n  const [currentMonth, setMonth] = useState(month);\r\n  const [currentYear, setYear] = useState(year);\r\n  return (\r\n    <div className={styles.container}>\r\n      <div />\r\n      <div className={styles.datePicker}>\r\n        <div className={styles.menu}>\r\n          {/* dropdown1 */}\r\n          <Dropdown\r\n            list={Object.keys(monthMap).map(m => monthMap[m])}\r\n            select={item => setMonth(numberMonth[item])}\r\n            title={monthMap[currentMonth]}\r\n          />\r\n        </div>\r\n        <div className={styles.menu}>\r\n          <Dropdown\r\n            list={buildYearsArr()}\r\n            select={setYear}\r\n            title={currentYear}\r\n          />\r\n        </div>\r\n      </div>\r\n      {/* <YearList setDate={setDate} /> */}\r\n      <Query\r\n        query={FETCH_PUZZLES}\r\n        variables={{ month: currentMonth, year: currentYear }}\r\n      >\r\n        {({ loading, error, data }) => {\r\n          if (error) {\r\n            console.log(error);\r\n          }\r\n          if (loading)\r\n            return (\r\n              <div className={styles.calendarContainer}>\r\n                {/* <h2 className={styles.currentMonth}>\r\n                  {monthMap[currentMonth]} {currentYear}\r\n                </h2> */}\r\n                {/* <Month puzzles={null} month={currentMonth} year={currentYear} /> */}\r\n              </div>\r\n            );\r\n          if (data) {\r\n            const {\r\n              puzzles: { success, message, puzzles },\r\n            } = data;\r\n            if (!success && message) {\r\n              return message;\r\n            }\r\n\r\n            if (puzzles) {\r\n              return (\r\n                <div className={styles.calendarContainer}>\r\n                  {/* <h2 className={styles.currentMonth}>\r\n                    {monthMap[currentMonth]} {currentYear}\r\n                  </h2> */}\r\n                  <Month\r\n                    puzzles={puzzles}\r\n                    month={currentMonth}\r\n                    year={currentYear}\r\n                  />\r\n                </div>\r\n              );\r\n            }\r\n          }\r\n          return <div>Loading</div>;\r\n        }}\r\n      </Query>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport gql from 'graphql-tag';\r\nimport { Query } from 'react-apollo';\r\nimport styles from './Navbar.module.css';\r\nimport DropdownMenu from '../Shared/DropdownMenu';\r\n\r\nconst Navbar = () => {\r\n  const USERNAME = gql`\r\n    {\r\n      profileInfo {\r\n        success\r\n        message\r\n        user {\r\n          _id\r\n          username\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n  const LoginLink = (\r\n    <li>\r\n      <NavLink\r\n        to=\"/Login\"\r\n        className={styles.link}\r\n        activeClassName={styles.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </li>\r\n  );\r\n  return (\r\n    <nav className={styles.container}>\r\n      <NavLink to=\"/\">\r\n        <h1 className={styles.logo}>\r\n          <div>C</div>\r\n          <div>r</div>\r\n          <div>o</div>\r\n          <div>s</div>\r\n          <div>s</div>\r\n          <div>w</div>\r\n          <div>o</div>\r\n          <div>r</div>\r\n          <div>d</div>\r\n          <div className={styles.blackSquare}> </div>\r\n          <div>C</div>\r\n          <div>o</div>\r\n          <div>n</div>\r\n          <div>s</div>\r\n          <div>t</div>\r\n          <div>r</div>\r\n          <div>u</div>\r\n          <div>c</div>\r\n          <div>t</div>\r\n          <div>o</div>\r\n          <div>r</div>\r\n        </h1>\r\n      </NavLink>\r\n      <ul className={styles.menu}>\r\n        <li className={styles.link}>\r\n          <NavLink to=\"/calendar\" activeClassName={styles.activeLink}>\r\n            Solve\r\n          </NavLink>\r\n        </li>\r\n        <li className={styles.link}>\r\n          <NavLink to=\"/construct\" activeClassName={styles.activeLink}>\r\n            Construct\r\n          </NavLink>\r\n        </li>\r\n        <Query query={USERNAME} name=\"profileInfo\">\r\n          {({ data }) => {\r\n            if (data && data.profileInfo) {\r\n              const {\r\n                profileInfo: { user, success, message },\r\n              } = data;\r\n              if (!success && message) {\r\n                return LoginLink;\r\n              }\r\n\r\n              const { username } = user;\r\n              return (\r\n                <DropdownMenu\r\n                  name={username || 'Profile'}\r\n                  list={[\r\n                    {\r\n                      name: 'profile',\r\n                      link: '/profile',\r\n                    },\r\n                    { name: 'logout', link: '/logout' },\r\n                  ]}\r\n                  headerLink=\"/profile\"\r\n                  offSet={20}\r\n                />\r\n              );\r\n            }\r\n            return LoginLink;\r\n          }}\r\n        </Query>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport gql from 'graphql-tag';\r\nimport { Mutation } from 'react-apollo';\r\nimport { Link } from 'react-router-dom';\r\nimport useErrorMessage from '../Hooks/useErrorMessage';\r\nimport ErrorToast from '../Shared/ErrorToast';\r\nimport Button from '../Shared/Button';\r\nimport Input from '../Shared/Input';\r\nimport PuzzleIcon from '../Shared/PuzzleIcon';\r\nimport styles from './Login.module.css';\r\n\r\nconst Login = ({ history }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useErrorMessage(null);\r\n  // const [step, setStep] = useState(0);\r\n\r\n  const LOGIN_MUTATION = gql`\r\n    mutation login($username: String!, $password: String!) {\r\n      login(username: $username, password: $password) {\r\n        success\r\n        message\r\n        user {\r\n          _id\r\n          username\r\n          solvedPuzzles {\r\n            _id\r\n            puzzle {\r\n              _id\r\n            }\r\n            board\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n  const form = [\r\n    {\r\n      name: 'Username',\r\n      value: username,\r\n      type: 'text',\r\n      onChange: e => setUsername(e.target.value),\r\n    },\r\n    {\r\n      name: 'Password',\r\n      value: password,\r\n      type: 'password',\r\n      onChange: e => setPassword(e.target.value),\r\n    },\r\n  ];\r\n  return (\r\n    <div className={styles.page}>\r\n      <PuzzleIcon />\r\n      <div className={styles.CenterRow}>\r\n        <form className={styles.form}>\r\n          {form.map(formItem => (\r\n            <Input key={formItem.name} {...formItem} theme=\"Big\" />\r\n          ))}\r\n          <Mutation\r\n            mutation={LOGIN_MUTATION}\r\n            variables={{ username, password }}\r\n            refetchQueries={() => ['profileInfo']}\r\n            update={(_, { data, error }) => {\r\n              /** @todo abstract to util function -- this is duplicated in signup */\r\n              if (data) {\r\n                const {\r\n                  login: { success, message, user },\r\n                } = data;\r\n                if (!success && message) {\r\n                  setErrorMessage(message);\r\n                } else if (user) {\r\n                  history.push('/profile');\r\n                }\r\n              } else if (error) {\r\n                setErrorMessage('Internal Server Error');\r\n              }\r\n            }}\r\n          >\r\n            {login => {\r\n              return (\r\n                <>\r\n                  <div>\r\n                    <Button\r\n                      onClick={e => {\r\n                        e.preventDefault();\r\n                        login({\r\n                          variables: { username, password },\r\n                        });\r\n                      }}\r\n                      type=\"submit\"\r\n                      theme=\"Main\"\r\n                    >\r\n                      Login\r\n                    </Button>\r\n                  </div>\r\n                  <ErrorToast errorMessage={errorMessage} />\r\n                </>\r\n              );\r\n            }}\r\n          </Mutation>\r\n          <div>\r\n            Don&apos;t have an account yet? <Link to=\"/signup\">signup</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  history: PropTypes.shape({ push: PropTypes.func }).isRequired,\r\n};\r\nexport default Login;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withApollo } from 'react-apollo';\r\nimport { withRouter } from 'react-router-dom';\r\nimport gql from 'graphql-tag';\r\n// import { Redirect } from 'react-router-dom';\r\n\r\nconst Logout = ({ client, history }) => {\r\n  const LOGOUT = gql`\r\n    mutation {\r\n      signout {\r\n        success\r\n        message\r\n      }\r\n    }\r\n  `;\r\n\r\n  useEffect(() => {\r\n    client\r\n      .mutate({ mutation: LOGOUT })\r\n      .then(() => {\r\n        client.cache.reset();\r\n        history.push('/');\r\n      })\r\n      .catch(() => {\r\n        // return <div>error</div>;\r\n      });\r\n  }, []);\r\n\r\n  return <div>Loading</div>;\r\n};\r\n\r\nLogout.propTypes = {\r\n  client: PropTypes.shape({ mutate: PropTypes.func.isRequired }).isRequired,\r\n  history: PropTypes.shape({ push: PropTypes.func.isRequired }).isRequired,\r\n};\r\nexport default withRouter(withApollo(Logout));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Stack.module.css';\r\n\r\nconst StackLayout = ({ children }) => {\r\n  return <div className={styles.Stack}>{children}</div>;\r\n};\r\n\r\nStackLayout.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\nexport default StackLayout;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Stack from '../Layouts/Stack';\r\nimport styles from './SolvedPuzzles.module.css';\r\n\r\nconst SolvedPuzzlesPreview = ({ stats, DataScroller }) => {\r\n  return (\r\n    <Stack>\r\n      <>\r\n        <div className={styles.container}>\r\n          <div>Stats</div>\r\n          <div className={styles.stats}>\r\n            <div>\r\n              Total Attempted:\r\n              <div className={styles.number}>{stats.total}</div>\r\n            </div>\r\n            <div>\r\n              Total Solved: <div className={styles.number}>{stats.solved}</div>\r\n            </div>\r\n            <div>\r\n              Total Revealed:\r\n              <div className={styles.number}>{stats.revealed}</div>\r\n            </div>\r\n            <div>\r\n              Solve Rate:\r\n              <div className={styles.number}>\r\n                {(stats.solved / stats.total).toFixed(2) * 100 || 0}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>Recent puzzles</div>\r\n        <div className={styles.row}>{DataScroller}</div>\r\n      </>\r\n    </Stack>\r\n    //     );\r\n    //   }}\r\n    // </Query>\r\n  );\r\n};\r\n\r\nSolvedPuzzlesPreview.propTypes = {\r\n  stats: PropTypes.shape({\r\n    total: PropTypes.number.isRequired,\r\n    solved: PropTypes.number.isRequired,\r\n    revealed: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n  // puzzles: PropTypes.arrayOf(\r\n  //   PropTypes.shape({\r\n  //     _id: PropTypes.string,\r\n  //     puzzle: PropTypes.shape({\r\n  //       _id: PropTypes.string.isRequired,\r\n  //       date: PropTypes.string.isRequired,\r\n  //     }),\r\n  //     board: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\r\n  //   }).isRequired\r\n  // ).isRequired,\r\n  // fetchMore: PropTypes.func.isRequired,\r\n  DataScroller: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default SolvedPuzzlesPreview;\r\n","import { useRef, useEffect } from 'react';\r\n\r\nconst usePrevious = value => {\r\n  const ref = useRef(null);\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n\r\n  return ref.current;\r\n};\r\n\r\nexport default usePrevious;\r\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PuzzleIcon from '../Shared/PuzzleIcon';\r\nimport usePrevious from '../Hooks/usePrevious';\r\nimport styles from './DataScroller.module.css';\r\n\r\n// \"globals\" for recursive requestAnimationFrame\r\nlet start = null;\r\nlet progress = null;\r\nlet right = true;\r\n\r\nconst DataScroller = ({ data, fetchMore, dataLength }) => {\r\n  const [[shouldDisplayPrev, shouldDisplayNext], displayArrows] = useState([\r\n    false,\r\n    false,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    shouldDisplayArrows();\r\n  }, []); // I feel like this is fine...I dont wanna have to wrap everything in useCalleback\r\n\r\n  const scrollRef = useRef(null);\r\n  const animateScroll = useCallback(timestamp => {\r\n    if (!start) start = timestamp;\r\n    progress = timestamp - start;\r\n    if (right) {\r\n      scrollRef.current.scrollLeft += 0.175 * progress;\r\n    } else {\r\n      scrollRef.current.scrollLeft -= 0.175 * progress;\r\n    }\r\n    if (progress < 500) {\r\n      window.requestAnimationFrame(animateScroll);\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * @function scrollOne\r\n   * @param  {Number}  direction - 1 for right -1 for left\r\n   */\r\n  const scrollOne = useCallback(\r\n    direction => {\r\n      if (direction === 'left') {\r\n        right = false;\r\n      } else {\r\n        right = true;\r\n      }\r\n      // scrollRef.current.scrollLeft =\r\n      //   scrollRef.current.getBoundingClientRect().width * direction;\r\n      progress = null;\r\n      start = null;\r\n      window.requestAnimationFrame(animateScroll);\r\n    },\r\n    [animateScroll]\r\n  );\r\n\r\n  /**\r\n   * @function next\r\n   * scrolls if it can. Fecthes more data if it cant\r\n  \r\n   */\r\n  const next = () => {\r\n    const { clientWidth, scrollWidth, scrollLeft } = scrollRef.current;\r\n    if (scrollWidth - clientWidth !== scrollLeft) {\r\n      scrollOne(1);\r\n    } else if (data.length < dataLength) {\r\n      fetchMore();\r\n    }\r\n  };\r\n\r\n  const previousData = usePrevious(data);\r\n  useEffect(() => {\r\n    if (previousData) {\r\n      if (data.length !== previousData.length) {\r\n        // perhaps we should check if we have MORE data and not just that its binding has changed\r\n        // but it really only should update if we fetch more...for now\r\n        scrollOne(1);\r\n      }\r\n    }\r\n  }, [data, scrollOne, previousData]);\r\n\r\n  const shouldDisplayArrows = () => {\r\n    let shouldDisPr;\r\n    let shouldDisNe;\r\n    const { clientWidth, scrollWidth, scrollLeft } = scrollRef.current;\r\n    if (data.length < dataLength || scrollWidth - clientWidth !== scrollLeft) {\r\n      shouldDisNe = true;\r\n    } else {\r\n      shouldDisNe = false;\r\n    }\r\n    if (scrollRef.current.scrollLeft === 0) {\r\n      shouldDisPr = false;\r\n    } else {\r\n      shouldDisPr = true;\r\n    }\r\n\r\n    if (\r\n      shouldDisNe !== shouldDisplayNext ||\r\n      shouldDisPr !== shouldDisplayPrev\r\n    ) {\r\n      displayArrows([shouldDisPr, shouldDisNe]);\r\n    }\r\n    // if (scrollRef.current.scrollLeft === parentRef.container.outerWidth)\r\n  };\r\n\r\n  const mouseWheelListener = e => {\r\n    const rawData = e.deltaY ? e.deltaY : e.deltaX;\r\n    const mouseY = Math.floor(rawData) / 5;\r\n    scrollRef.current.scrollLeft += mouseY;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div\r\n        className={styles.puzzleRow}\r\n        ref={scrollRef}\r\n        onScroll={shouldDisplayArrows}\r\n        onWheel={mouseWheelListener}\r\n      >\r\n        {/* {this is assuming the data is always puzzle related...if this component becomes more general purpose\r\n  require another prop describing the kind of data so we know which icons to render */\r\n        data.map(p => {\r\n          return (\r\n            <div className={styles.puzzle} key={p._id}>\r\n              <PuzzleIcon\r\n                _id={p.puzzle._id}\r\n                date={p.puzzle.date}\r\n                fillPercent={0}\r\n                size={50}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n        {shouldDisplayPrev ? (\r\n          <div\r\n            className={styles.prev}\r\n            onClick={() => scrollOne('left')}\r\n            onKeyUp={event =>\r\n              event.key === 'Enter' ? scrollOne('left') : null\r\n            }\r\n            role=\"button\"\r\n            tabIndex=\"0\"\r\n          >\r\n            <i className=\"fas fa-chevron-left\" />\r\n          </div>\r\n        ) : null}\r\n        {shouldDisplayNext ? (\r\n          <div\r\n            className={styles.next}\r\n            onClick={next}\r\n            onKeyUp={event =>\r\n              event.key === 'Enter' ? scrollOne('right') : null\r\n            }\r\n            role=\"button\"\r\n            tabIndex=\"0\"\r\n          >\r\n            <i className=\"fas fa-chevron-right\" />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDataScroller.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  fetchMore: PropTypes.func.isRequired,\r\n  dataLength: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default DataScroller;\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { Query } from 'react-apollo';\r\nimport moment from 'moment';\r\nimport { TODAYS_PUZZLE } from '../utils/queries';\r\nimport PuzzleIcon from '../Shared/PuzzleIcon';\r\nimport styles from './PuzzleOfTheDay.module.css';\r\n\r\nconst PuzzleOfTheDay = () => {\r\n  // get todays date\r\n  // fetchPuzzle\r\n  // display\r\n  const date = getDateString();\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Query query={TODAYS_PUZZLE} variables={{ date }}>\r\n        {({ data, error, loading }) => {\r\n          if (data && data.todaysPuzzle) {\r\n            const {\r\n              todaysPuzzle: { success, message, puzzle },\r\n            } = data;\r\n            if (success) {\r\n              return (\r\n                <PuzzleIcon\r\n                  {...puzzle}\r\n                  date={moment(puzzle.date).format('dddd, MMMM Do, YYYY')}\r\n                />\r\n              );\r\n            }\r\n            return 'error';\r\n          }\r\n          return 'loading';\r\n        }}\r\n      </Query>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getDateString = () => {\r\n  const today = new Date();\r\n  const dd = String(today.getDate());\r\n  const mm = String(today.getMonth() + 1); // January is 0!\r\n  const yyyy = today.getFullYear();\r\n  return `${mm}/${dd}/${yyyy}`;\r\n};\r\n\r\nexport default PuzzleOfTheDay;\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ProfileCard.module.css';\r\nimport testAvatar from './test.jpg';\r\n// import testBackground from './testBackground.jpg';\r\n\r\nconst ProfileCard = ({ name, username, avatarImage, background }) => {\r\n  return (\r\n    <div className={styles.Container}>\r\n      <div\r\n        className={styles.Background}\r\n        // src={testBackground}\r\n        alt=\"profile background\"\r\n      />\r\n      <div className={styles.Bottom}>\r\n        <img className={styles.AvatarImage} src={testAvatar} alt=\"avatar\" />\r\n        <div className={styles.UserInfo}>\r\n          <div className={styles.Name}>{name}</div>\r\n          <div className={styles.Username}>{username}</div>\r\n        </div>\r\n        <div className={styles.Groups} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProfileCard.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  avatarImage: PropTypes.string.isRequired,\r\n  background: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ProfileCard;\r\n","import React from 'react';\r\nimport { Query } from 'react-apollo';\r\nimport { GET_PROFILE, SOLVED_PUZZLES } from '../utils/queries';\r\nimport Sidebar from '../Layouts/Sidebar';\r\nimport Stack from '../Layouts/Stack';\r\nimport SolvedPuzzlePreview from './SolvedPuzzlePreview';\r\nimport DataScroller from './DataScroller';\r\nimport PuzzleOfTheDay from './PuzzleOfTheDay';\r\n// import ConstructedPreview from '../ConstructedPreview/ConstructedPreview';\r\nimport ProfileCard from './ProfileCard';\r\nimport styles from './Profile.module.css';\r\n\r\nconst Profile = () => {\r\n  return (\r\n    <Query query={GET_PROFILE}>\r\n      {({ error, loading, data, fetchMore }) => {\r\n        if (loading) return <div>loading</div>;\r\n        if (error) return <div>error</div>;\r\n        if (data && data.profileInfo) {\r\n          const {\r\n            profileInfo: { user, success, message },\r\n          } = data;\r\n          if (!success && message) {\r\n            /** @todo consider how to handle...this should never happen...we only get redirected here if we have a user */\r\n            return <div>error</div>;\r\n          }\r\n          const { name, username, solvedPuzzles, solvedPuzzleStats } = user;\r\n          return (\r\n            <div className={styles.Page}>\r\n              <Sidebar\r\n                sideBar={\r\n                  <>\r\n                    <ProfileCard\r\n                      username={username}\r\n                      name={name}\r\n                      avatarImage=\"blah\"\r\n                      background=\"blah\"\r\n                    />\r\n                    <div>feed</div>\r\n                  </>\r\n                }\r\n                mainContent={\r\n                  <Stack>\r\n                    <>\r\n                      <div className={styles.container}>\r\n                        <h2 className={styles.containerTitle}>\r\n                          Puzzle of the Day\r\n                        </h2>\r\n                        <PuzzleOfTheDay />\r\n                      </div>\r\n                      <div className={styles.container}>\r\n                        <h2 className={styles.containerTitle}>\r\n                          Solved Puzzles\r\n                        </h2>\r\n                        <SolvedPuzzlePreview\r\n                          stats={solvedPuzzleStats}\r\n                          DataScroller={\r\n                            <DataScroller\r\n                              data={solvedPuzzles}\r\n                              fetchMore={() =>\r\n                                fetchMore({\r\n                                  query: SOLVED_PUZZLES,\r\n                                  variables: {\r\n                                    cursor:\r\n                                      solvedPuzzles[solvedPuzzles.length - 1]\r\n                                        .updatedAt,\r\n                                  },\r\n                                  updateQuery: (\r\n                                    previousResult,\r\n                                    { fetchMoreResult }\r\n                                  ) => {\r\n                                    return {\r\n                                      profileInfo: {\r\n                                        ...previousResult.profileInfo,\r\n                                        user: {\r\n                                          ...previousResult.profileInfo.user,\r\n                                          solvedPuzzles: [\r\n                                            ...previousResult.profileInfo.user\r\n                                              .solvedPuzzles,\r\n                                            ...fetchMoreResult.getSolvedPuzzles\r\n                                              .solvedPuzzles,\r\n                                          ],\r\n                                        },\r\n                                      },\r\n                                    };\r\n                                  },\r\n                                })\r\n                              }\r\n                              dataLength={solvedPuzzleStats.total}\r\n                            />\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </>\r\n                  </Stack>\r\n                }\r\n              />\r\n            </div>\r\n          );\r\n        }\r\n        return 'something went wrong';\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport styles from './App.module.css';\r\nimport Signup from './Signup/Signup';\r\nimport Workspace from './Workspace/Workspace';\r\nimport FetchPuzzle from './Workspace/FetchPuzzle';\r\nimport Calendar from './Calendar/Calendar';\r\nimport Navbar from './Navigation/Navbar';\r\nimport Login from './Login/Login';\r\nimport Logout from './Logout/Logout';\r\nimport Profile from './Profile/Profile';\r\nimport './reset.css';\r\n\r\nconst App = () => {\r\n  // const VERIFY_LOGGED_IN = gql`\r\n  //   {\r\n  //     verifyLoggedIn {\r\n  //       _id\r\n  //       username\r\n  //     }\r\n  //   }\r\n  // `;\r\n  // console.log(props);\r\n  return (\r\n    // I wonder what the proper way to verify logged in is...\r\n    // presumably, the request for this bundle.js in production will have\r\n    // the cookie attached if the user is logged in...so this is an extra request\r\n    // <Query query={VERIFY_LOGGED_IN}>\r\n    //   {({ loading, error, data }) => {\r\n    //     if (loading) return <div>Loading..</div>;\r\n    // return (\r\n    <div className={styles.app}>\r\n      <Navbar />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Signup} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/construct\" component={Workspace} />\r\n        <Route path=\"/solve/:id\" component={FetchPuzzle} />\r\n        <Route path=\"/profile\" component={Profile} />\r\n        <Route path=\"/nyt/solve/:id\" component={FetchPuzzle} />\r\n        <Route path=\"/calendar\" component={Calendar} />\r\n        <Route path=\"/logout\" component={Logout} />\r\n      </Switch>\r\n    </div>\r\n    //     );\r\n    //   }}\r\n    // </Query>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport { ApolloClient } from 'apollo-client';\r\nimport { createHttpLink } from 'apollo-link-http';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport App from './App';\r\n\r\n// import Login from \"./Login/Login\";\r\nconsole.log(process.env.NODE_ENV);\r\nconst httpLink = createHttpLink({\r\n  uri:\r\n    process.env.NODE_ENV === 'production'\r\n      ? '/graphql'\r\n      : 'http://localhost:4000/graphql',\r\n  credentials: 'include',\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: httpLink,\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client={client}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clue\":\"Clues_clue__fENbd\",\"container\":\"Clues_container__2Ec02\",\"title\":\"Clues_title__3ci2I\",\"clueText\":\"Clues_clueText__3IG5s\",\"hiddenClueText\":\"Clues_hiddenClueText__1lpFl Clues_clueText__3IG5s\",\"highlighted\":\"Clues_highlighted__1X4II Clues_clue__fENbd\",\"secondaryNoHighlight\":\"Clues_secondaryNoHighlight__cyCIL\",\"secondaryHighlight\":\"Clues_secondaryHighlight__1-WX4 Clues_secondaryNoHighlight__cyCIL\",\"clues\":\"Clues_clues__1LJW4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"Board_board__o7P8w\",\"cell\":\"Board_cell__2ZLwt\",\"cellInput\":\"Board_cellInput__I-LXp\",\"black\":\"Board_black__2gIkQ\",\"number\":\"Board_number__bJjHn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__2z1H8\",\"menu\":\"Navbar_menu__1Tv5Z\",\"logo\":\"Navbar_logo__1ZVa2\",\"blackSquare\":\"Navbar_blackSquare__2UA7H\",\"link\":\"Navbar_link__VfMcH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scene\":\"Cube_scene__2MlOs\",\"cube\":\"Cube_cube__1eZCv\",\"animatedCube\":\"Cube_animatedCube__1SAd9 Cube_cube__1eZCv\",\"spin\":\"Cube_spin__12lgS\",\"cubeFace\":\"Cube_cubeFace__2dI-a\",\"front\":\"Cube_front__-jOvk Cube_cubeFace__2dI-a\",\"right\":\"Cube_right__3oD4f Cube_cubeFace__2dI-a\",\"back\":\"Cube_back__1l3Eo Cube_cubeFace__2dI-a\",\"left\":\"Cube_left__1XX-O Cube_cubeFace__2dI-a\",\"top\":\"Cube_top__6EAr4 Cube_cubeFace__2dI-a\",\"bottom\":\"Cube_bottom__3IhP_ Cube_cubeFace__2dI-a\",\"faceFront\":\"Cube_faceFront__1fQ9X Cube_cube__1eZCv\",\"show-right\":\"Cube_show-right__1xE-0 Cube_cube__1eZCv\",\"show-back\":\"Cube_show-back__1uM2R Cube_cube__1eZCv\",\"show-left\":\"Cube_show-left__2Kq8U Cube_cube__1eZCv\",\"show-top\":\"Cube_show-top__1Zwms Cube_cube__1eZCv\",\"faceBottom\":\"Cube_faceBottom__3cHox Cube_cube__1eZCv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Toolbar_container__1YzG9\",\"subContainer\":\"Toolbar_subContainer__19QRP\",\"menuItem\":\"Toolbar_menuItem__76lu5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dropdown_wrapper__3QyiW\",\"dropdown\":\"Dropdown_dropdown__3sP5z\",\"header\":\"Dropdown_header__132Gr\",\"listItem\":\"Dropdown_listItem__3aewm\",\"errorItem\":\"Dropdown_errorItem__p_z0A\",\"listItemSelected\":\"Dropdown_listItemSelected__3w76B\",\"background1\":\"Dropdown_background1__zq8tM\",\"background2\":\"Dropdown_background2__wnCvR\",\"activeBackground\":\"Dropdown_activeBackground__3tapz\",\"opened\":\"Dropdown_opened__2_IK0 Dropdown_dropdown__3sP5z\",\"closed\":\"Dropdown_closed__DkVQd Dropdown_dropdown__3sP5z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ProfileCard_Container__1gL63 index_Box__30BBj\",\"Background\":\"ProfileCard_Background__IHSME\",\"Bottom\":\"ProfileCard_Bottom__22nTd\",\"AvatarImage\":\"ProfileCard_AvatarImage__yUuXo\",\"UserInfo\":\"ProfileCard_UserInfo__1GvOM\",\"Name\":\"ProfileCard_Name__32pBK helpers_TextTruncate__1Y4YE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"SolveSpace_page__2btKK\",\"container\":\"SolveSpace_container__2RzoW\",\"left\":\"SolveSpace_left__1Yxqw\",\"details\":\"SolveSpace_details__3PiYy\",\"focusedCluePosition\":\"SolveSpace_focusedCluePosition__2EGFS\",\"focusedClue\":\"SolveSpace_focusedClue__352-4\",\"hiddenClue\":\"SolveSpace_hiddenClue__ZF09W SolveSpace_focusedClue__352-4\",\"clues\":\"SolveSpace_clues___1aaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PuzzleIcon\":\"PuzzleIcon_PuzzleIcon__1_dnr\",\"Image\":\"PuzzleIcon_Image__3DYkt\",\"Detail\":\"PuzzleIcon_Detail__z0JHT\",\"author\":\"PuzzleIcon_author__2DJeF PuzzleIcon_Detail__z0JHT\",\"Header\":\"PuzzleIcon_Header__21dyV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SolvedPuzzles_container__3aCG8\",\"row\":\"SolvedPuzzles_row__Navvd\",\"stats\":\"SolvedPuzzles_stats__3igas\",\"number\":\"SolvedPuzzles_number__1efIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"month\":\"Month_month__xWZN6\",\"day\":\"Month_day__2rjSo\",\"number\":\"Month_number__2B8yT\",\"dayHeading\":\"Month_dayHeading__1NuRk Month_day__2rjSo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Calendar_container__2A536\",\"datePicker\":\"Calendar_datePicker__2_Ri9\",\"menu\":\"Calendar_menu__2oCmY\",\"calendarContainer\":\"Calendar_calendarContainer__3kTZQ\",\"currentMonth\":\"Calendar_currentMonth__g-Kim\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Modal_background__3-r3n\",\"hiddenBackground\":\"Modal_hiddenBackground__2hZ_0\",\"modal\":\"Modal_modal__DRzOv\",\"hiddenModal\":\"Modal_hiddenModal__1R3rt Modal_modal__DRzOv\",\"close\":\"Modal_close__1PE1q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DataScroller_container__z3oOP\",\"puzzleRow\":\"DataScroller_puzzleRow__3arrE\",\"puzzle\":\"DataScroller_puzzle__3QD97\",\"button\":\"DataScroller_button__DksOZ\",\"next\":\"DataScroller_next__o78FT DataScroller_button__DksOZ\",\"prev\":\"DataScroller_prev__1YATp DataScroller_button__DksOZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page\":\"Profile_Page__3uZrK\",\"container\":\"Profile_container__AZTe1\",\"containerTitle\":\"Profile_containerTitle__colFS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Signup_page__1SkQw\",\"cube\":\"Signup_cube__3Y-mu\",\"CenterRow\":\"Signup_CenterRow__3jxip\",\"form\":\"Signup_form__3rH2c\",\"activeStep\":\"Signup_activeStep__3JEdZ\",\"hidden\":\"Signup_hidden__1E4LG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"DropdownMenu_Container__25AVG\",\"Header\":\"DropdownMenu_Header__iBAA1\",\"DropdownContent\":\"DropdownMenu_DropdownContent__1IJus\",\"DropdownItem\":\"DropdownMenu_DropdownItem__2IRl7\",\"showDropdown\":\"DropdownMenu_showDropdown__UlUuv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Input_Container__qJAg4\",\"Big\":\"Input_Big__31ZiJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page\":\"Sidebar_Page__2L3Xd\",\"Sidebar\":\"Sidebar_Sidebar__TBSCo\",\"MainContent\":\"Sidebar_MainContent__Wtkzg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Login_page__2phF-\",\"CenterRow\":\"Login_CenterRow__2SreD\",\"form\":\"Login_form__3mKUZ\",\"activeStep\":\"Login_activeStep__1OORR\",\"hidden\":\"Login_hidden__1_skV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorMessage\":\"ErrorToast_ErrorMessage__6P3_F\",\"HiddenMessage\":\"ErrorToast_HiddenMessage__2qDEh ErrorToast_ErrorMessage__6P3_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3G4LD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Button_Main__3XtBa\",\"Light\":\"Button_Light__1lqGg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clock\":\"Clock_clock__28aoa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pause\":\"Pause_pause__1885G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stack\":\"Stack_Stack__FP_kg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PuzzleOfTheDay_container__WwD-t\"};","module.exports = __webpack_public_path__ + \"static/media/test.798fd5a0.jpg\";"],"sourceRoot":""}